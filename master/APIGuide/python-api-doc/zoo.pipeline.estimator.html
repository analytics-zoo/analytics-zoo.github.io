
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>zoo.pipeline.estimator package &#8212; analytics-zoo  documentation</title>
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="zoo.pipeline.inference package" href="zoo.pipeline.inference.html" />
    <link rel="prev" title="zoo.pipeline.api.torch package" href="zoo.pipeline.api.torch.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="zoo.pipeline.inference.html" title="zoo.pipeline.inference package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="zoo.pipeline.api.torch.html" title="zoo.pipeline.api.torch package"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">analytics-zoo  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="zoo.html" >zoo package</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="zoo.pipeline.html" accesskey="U">zoo.pipeline package</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">zoo.pipeline.estimator package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-zoo.pipeline.estimator.estimator">zoo.pipeline.estimator.estimator module</a></li>
<li><a class="reference internal" href="#module-zoo.pipeline.estimator">Module contents</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="zoo.pipeline.api.torch.html"
                        title="previous chapter">zoo.pipeline.api.torch package</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="zoo.pipeline.inference.html"
                        title="next chapter">zoo.pipeline.inference package</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/zoo.pipeline.estimator.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="zoo-pipeline-estimator-package">
<h1>zoo.pipeline.estimator package<a class="headerlink" href="#zoo-pipeline-estimator-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-zoo.pipeline.estimator.estimator">
<span id="zoo-pipeline-estimator-estimator-module"></span><h2>zoo.pipeline.estimator.estimator module<a class="headerlink" href="#module-zoo.pipeline.estimator.estimator" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="zoo.pipeline.estimator.estimator.Estimator">
<em class="property">class </em><code class="descclassname">zoo.pipeline.estimator.estimator.</code><code class="descname">Estimator</code><span class="sig-paren">(</span><em>model</em>, <em>optim_methods=None</em>, <em>model_dir=None</em>, <em>jvalue=None</em>, <em>bigdl_type='float'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/estimator/estimator.html#Estimator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.estimator.estimator.Estimator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">bigdl.util.common.JavaValue</span></code></p>
<p>Estimator class for training and evaluation BigDL models.</p>
<p>Estimator wraps a model, and provide an uniform training, evaluation or prediction operation on
both local host and distributed spark environment.</p>
<dl class="method">
<dt id="zoo.pipeline.estimator.estimator.Estimator.clear_gradient_clipping">
<code class="descname">clear_gradient_clipping</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/estimator/estimator.html#Estimator.clear_gradient_clipping"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.estimator.estimator.Estimator.clear_gradient_clipping" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear gradient clipping parameters. In this case, gradient clipping will not be applied.
In order to take effect, it needs to be called before fit.
:return:</p>
</dd></dl>

<dl class="method">
<dt id="zoo.pipeline.estimator.estimator.Estimator.evaluate">
<code class="descname">evaluate</code><span class="sig-paren">(</span><em>validation_set</em>, <em>validation_method</em>, <em>batch_size=32</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/estimator/estimator.html#Estimator.evaluate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.estimator.estimator.Estimator.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate the model on the validationSet with the validationMethods.
:param validation_set: validation FeatureSet, a FeatureSet[Sample[T]]
:param validation_method: validation methods
:param batch_size: batch size
:return: validation results</p>
</dd></dl>

<dl class="method">
<dt id="zoo.pipeline.estimator.estimator.Estimator.evaluate_imagefeature">
<code class="descname">evaluate_imagefeature</code><span class="sig-paren">(</span><em>validation_set</em>, <em>validation_method</em>, <em>batch_size=32</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/estimator/estimator.html#Estimator.evaluate_imagefeature"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.estimator.estimator.Estimator.evaluate_imagefeature" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate the model on the validationSet with the validationMethods.
:param validation_set: validation FeatureSet, a FeatureSet[Sample[T]]
:param validation_method: validation methods
:param batch_size: batch size
:return: validation results</p>
</dd></dl>

<dl class="method">
<dt id="zoo.pipeline.estimator.estimator.Estimator.evaluate_minibatch">
<code class="descname">evaluate_minibatch</code><span class="sig-paren">(</span><em>validation_set</em>, <em>validation_method</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/estimator/estimator.html#Estimator.evaluate_minibatch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.estimator.estimator.Estimator.evaluate_minibatch" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate the model on the validationSet with the validationMethods.
:param validation_set: validation FeatureSet, a FeatureSet[MiniBatch[T]]
:param validation_method: validation methods
:return: validation results</p>
</dd></dl>

<dl class="method">
<dt id="zoo.pipeline.estimator.estimator.Estimator.get_train_summary">
<code class="descname">get_train_summary</code><span class="sig-paren">(</span><em>tag=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/estimator/estimator.html#Estimator.get_train_summary"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.estimator.estimator.Estimator.get_train_summary" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the scalar from model train summary
Return 2-D array like object which could be converted
by nd.array()
# Arguments
tag: The string variable represents the scalar wanted</p>
</dd></dl>

<dl class="method">
<dt id="zoo.pipeline.estimator.estimator.Estimator.get_validation_summary">
<code class="descname">get_validation_summary</code><span class="sig-paren">(</span><em>tag=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/estimator/estimator.html#Estimator.get_validation_summary"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.estimator.estimator.Estimator.get_validation_summary" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the scalar from model validation summary
Return 2-D array like object which could be converted
by np.array()</p>
<p>Note: The metric and tag may not be consistent
Please look up following form to pass tag parameter
Left side is your metric during compile
Right side is the tag you should pass
‘Accuracy’                  |   ‘Top1Accuracy’
‘BinaryAccuracy’            |   ‘Top1Accuracy’
‘CategoricalAccuracy’       |   ‘Top1Accuracy’
‘SparseCategoricalAccuracy’ |   ‘Top1Accuracy’
‘AUC’                       |   ‘AucScore’
‘HitRatio’                  |   ‘HitRate&#64;k’ (k is Top-k)
‘Loss’                      |   ‘Loss’
‘MAE’                       |   ‘MAE’
‘NDCG’                      |   ‘NDCG’
‘TFValidationMethod’        |   ‘${name + ” ” + valMethod.toString()}’
‘Top5Accuracy’              |   ‘Top5Accuracy’
‘TreeNNAccuracy’            |   ‘TreeNNAccuracy()’
‘MeanAveragePrecision’      |   ‘MAP&#64;k’ (k is Top-k) (BigDL)
‘MeanAveragePrecision’      |   ‘PascalMeanAveragePrecision’ (Zoo)
‘StatelessMetric’           |   ‘${name}’
# Arguments
tag: The string variable represents the scalar wanted</p>
</dd></dl>

<dl class="method">
<dt id="zoo.pipeline.estimator.estimator.Estimator.set_constant_gradient_clipping">
<code class="descname">set_constant_gradient_clipping</code><span class="sig-paren">(</span><em>min</em>, <em>max</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/estimator/estimator.html#Estimator.set_constant_gradient_clipping"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.estimator.estimator.Estimator.set_constant_gradient_clipping" title="Permalink to this definition">¶</a></dt>
<dd><p>Set constant gradient clipping during the training process.
In order to take effect, it needs to be called before fit.
:param min: The minimum value to clip by.
:param max: The maximum value to clip by.
:return:</p>
</dd></dl>

<dl class="method">
<dt id="zoo.pipeline.estimator.estimator.Estimator.set_l2_norm_gradient_clipping">
<code class="descname">set_l2_norm_gradient_clipping</code><span class="sig-paren">(</span><em>clip_norm</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/estimator/estimator.html#Estimator.set_l2_norm_gradient_clipping"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.estimator.estimator.Estimator.set_l2_norm_gradient_clipping" title="Permalink to this definition">¶</a></dt>
<dd><p>Clip gradient to a maximum L2-Norm during the training process.
In order to take effect, it needs to be called before fit.
:param clip_norm: Gradient L2-Norm threshold.
:return:</p>
</dd></dl>

<dl class="method">
<dt id="zoo.pipeline.estimator.estimator.Estimator.set_tensorboad">
<code class="descname">set_tensorboad</code><span class="sig-paren">(</span><em>log_dir</em>, <em>app_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/estimator/estimator.html#Estimator.set_tensorboad"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.estimator.estimator.Estimator.set_tensorboad" title="Permalink to this definition">¶</a></dt>
<dd><p>Set summary information during the training process for visualization purposes.
Saved summary can be viewed via TensorBoard.
In order to take effect, it needs to be called before fit.</p>
<p>Training summary will be saved to ‘log_dir/app_name/train’
and validation summary (if any) will be saved to ‘log_dir/app_name/validation’.</p>
<p># Arguments
:param log_dir: The base directory path to store training and validation logs.
:param app_name: The name of the application.</p>
</dd></dl>

<dl class="method">
<dt id="zoo.pipeline.estimator.estimator.Estimator.train">
<code class="descname">train</code><span class="sig-paren">(</span><em>train_set</em>, <em>criterion</em>, <em>end_trigger=None</em>, <em>checkpoint_trigger=None</em>, <em>validation_set=None</em>, <em>validation_method=None</em>, <em>batch_size=32</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/estimator/estimator.html#Estimator.train"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.estimator.estimator.Estimator.train" title="Permalink to this definition">¶</a></dt>
<dd><p>Train model with provided trainSet and criterion.
The training will end until the endTrigger is triggered.
During the training, if checkPointTrigger is defined and triggered,
the model will be saved to modelDir. And if validationSet and validationMethod
is defined, the model will be evaluated at the checkpoint.
:param train_set: training FeatureSet, a FeatureSet[Sample[T]]
:param criterion: Loss function
:param end_trigger: When to finish the training
:param checkpoint_trigger: When to save a checkpoint and evaluate model.
:param validation_set: Validation FeatureSet, a FeatureSet[Sample[T]]
:param validation_method: Validation Methods.
:param batch_size:
:return: Estimator</p>
</dd></dl>

<dl class="method">
<dt id="zoo.pipeline.estimator.estimator.Estimator.train_imagefeature">
<code class="descname">train_imagefeature</code><span class="sig-paren">(</span><em>train_set</em>, <em>criterion</em>, <em>end_trigger=None</em>, <em>checkpoint_trigger=None</em>, <em>validation_set=None</em>, <em>validation_method=None</em>, <em>batch_size=32</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/estimator/estimator.html#Estimator.train_imagefeature"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.estimator.estimator.Estimator.train_imagefeature" title="Permalink to this definition">¶</a></dt>
<dd><p>Train model with provided imageFeature trainSet and criterion.
The training will end until the endTrigger is triggered.
During the training, if checkPointTrigger is defined and triggered,
the model will be saved to modelDir. And if validationSet and validationMethod
is defined, the model will be evaluated at the checkpoint.
:param train_set: training FeatureSet, a FeatureSet[ImageFeature]
:param criterion: Loss function
:param end_trigger: When to finish the training
:param checkpoint_trigger: When to save a checkpoint and evaluate model.
:param validation_set: Validation FeatureSet, a FeatureSet[Sample[T]]
:param validation_method: Validation Methods.
:param batch_size: Batch size
:return:</p>
</dd></dl>

<dl class="method">
<dt id="zoo.pipeline.estimator.estimator.Estimator.train_minibatch">
<code class="descname">train_minibatch</code><span class="sig-paren">(</span><em>train_set</em>, <em>criterion</em>, <em>end_trigger=None</em>, <em>checkpoint_trigger=None</em>, <em>validation_set=None</em>, <em>validation_method=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/estimator/estimator.html#Estimator.train_minibatch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.estimator.estimator.Estimator.train_minibatch" title="Permalink to this definition">¶</a></dt>
<dd><p>Train model with provided trainSet and criterion.
The training will end until the endTrigger is triggered.
During the training, if checkPointTrigger is defined and triggered,
the model will be saved to modelDir. And if validationSet and validationMethod
is defined, the model will be evaluated at the checkpoint.
:param train_set: training FeatureSet, a FeatureSet[MiniBatch[T]]
:param criterion: Loss function
:param end_trigger: When to finish the training
:param checkpoint_trigger: When to save a checkpoint and evaluate model.
:param validation_set: Validation FeatureSet, a FeatureSet[MiniBatch[T]]
:param validation_method: Validation Methods.
:return: Estimator</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-zoo.pipeline.estimator">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-zoo.pipeline.estimator" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="zoo.pipeline.inference.html" title="zoo.pipeline.inference package"
             >next</a> |</li>
        <li class="right" >
          <a href="zoo.pipeline.api.torch.html" title="zoo.pipeline.api.torch package"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">analytics-zoo  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="zoo.html" >zoo package</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="zoo.pipeline.html" >zoo.pipeline package</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, Intel.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.4.
    </div>
  </body>
</html>