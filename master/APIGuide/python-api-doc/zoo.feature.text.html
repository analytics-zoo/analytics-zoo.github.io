
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>zoo.feature.text package &#8212; analytics-zoo  documentation</title>
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="zoo.models package" href="zoo.models.html" />
    <link rel="prev" title="zoo.feature.image3d package" href="zoo.feature.image3d.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="zoo.models.html" title="zoo.models package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="zoo.feature.image3d.html" title="zoo.feature.image3d package"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">analytics-zoo  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="zoo.html" >zoo package</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="zoo.feature.html" accesskey="U">zoo.feature package</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">zoo.feature.text package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-zoo.feature.text.text_feature">zoo.feature.text.text_feature module</a></li>
<li><a class="reference internal" href="#module-zoo.feature.text.text_set">zoo.feature.text.text_set module</a></li>
<li><a class="reference internal" href="#module-zoo.feature.text.transformer">zoo.feature.text.transformer module</a></li>
<li><a class="reference internal" href="#module-zoo.feature.text">Module contents</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="zoo.feature.image3d.html"
                        title="previous chapter">zoo.feature.image3d package</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="zoo.models.html"
                        title="next chapter">zoo.models package</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/zoo.feature.text.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="zoo-feature-text-package">
<h1>zoo.feature.text package<a class="headerlink" href="#zoo-feature-text-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-zoo.feature.text.text_feature">
<span id="zoo-feature-text-text-feature-module"></span><h2>zoo.feature.text.text_feature module<a class="headerlink" href="#module-zoo.feature.text.text_feature" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="zoo.feature.text.text_feature.TextFeature">
<em class="property">class </em><code class="descclassname">zoo.feature.text.text_feature.</code><code class="descname">TextFeature</code><span class="sig-paren">(</span><em>text=None</em>, <em>label=None</em>, <em>uri=None</em>, <em>jvalue=None</em>, <em>bigdl_type='float'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/feature/text/text_feature.html#TextFeature"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.feature.text.text_feature.TextFeature" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">bigdl.util.common.JavaValue</span></code></p>
<p>Each TextFeature keeps information of a single text record.
It can include various status (if any) of a text,
e.g. original text content, uri, category label, tokens, index representation
of tokens, BigDL Sample representation, prediction result and so on.</p>
<dl class="method">
<dt id="zoo.feature.text.text_feature.TextFeature.get_label">
<code class="descname">get_label</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/feature/text/text_feature.html#TextFeature.get_label"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.feature.text.text_feature.TextFeature.get_label" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the label of the TextFeature.
If no label is stored, -1 will be returned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zoo.feature.text.text_feature.TextFeature.get_sample">
<code class="descname">get_sample</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/feature/text/text_feature.html#TextFeature.get_sample"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.feature.text.text_feature.TextFeature.get_sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the Sample representation of the TextFeature.
If the TextFeature hasn’t been transformed to Sample, None will be returned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">BigDL Sample</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zoo.feature.text.text_feature.TextFeature.get_text">
<code class="descname">get_text</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/feature/text/text_feature.html#TextFeature.get_text"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.feature.text.text_feature.TextFeature.get_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the text content of the TextFeature.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">String</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zoo.feature.text.text_feature.TextFeature.get_tokens">
<code class="descname">get_tokens</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/feature/text/text_feature.html#TextFeature.get_tokens"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.feature.text.text_feature.TextFeature.get_tokens" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the tokens of the TextFeature.
If text hasn’t been segmented, None will be returned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">List of String</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zoo.feature.text.text_feature.TextFeature.get_uri">
<code class="descname">get_uri</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/feature/text/text_feature.html#TextFeature.get_uri"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.feature.text.text_feature.TextFeature.get_uri" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the identifier of the TextFeature.
If no id is stored, None will be returned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">String</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zoo.feature.text.text_feature.TextFeature.has_label">
<code class="descname">has_label</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/feature/text/text_feature.html#TextFeature.has_label"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.feature.text.text_feature.TextFeature.has_label" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether the TextFeature contains label.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Boolean</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zoo.feature.text.text_feature.TextFeature.keys">
<code class="descname">keys</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/feature/text/text_feature.html#TextFeature.keys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.feature.text.text_feature.TextFeature.keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the keys that the TextFeature contains.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">List of String</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zoo.feature.text.text_feature.TextFeature.set_label">
<code class="descname">set_label</code><span class="sig-paren">(</span><em>label</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/feature/text/text_feature.html#TextFeature.set_label"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.feature.text.text_feature.TextFeature.set_label" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the label for the TextFeature.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>label</strong> – Int</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The TextFeature with label.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-zoo.feature.text.text_set">
<span id="zoo-feature-text-text-set-module"></span><h2>zoo.feature.text.text_set module<a class="headerlink" href="#module-zoo.feature.text.text_set" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="zoo.feature.text.text_set.DistributedTextSet">
<em class="property">class </em><code class="descclassname">zoo.feature.text.text_set.</code><code class="descname">DistributedTextSet</code><span class="sig-paren">(</span><em>texts=None</em>, <em>labels=None</em>, <em>jvalue=None</em>, <em>bigdl_type='float'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/feature/text/text_set.html#DistributedTextSet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.feature.text.text_set.DistributedTextSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#zoo.feature.text.text_set.TextSet" title="zoo.feature.text.text_set.TextSet"><code class="xref py py-class docutils literal notranslate"><span class="pre">zoo.feature.text.text_set.TextSet</span></code></a></p>
<p>DistributedTextSet is comprised of RDDs.</p>
</dd></dl>

<dl class="class">
<dt id="zoo.feature.text.text_set.LocalTextSet">
<em class="property">class </em><code class="descclassname">zoo.feature.text.text_set.</code><code class="descname">LocalTextSet</code><span class="sig-paren">(</span><em>texts=None</em>, <em>labels=None</em>, <em>jvalue=None</em>, <em>bigdl_type='float'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/feature/text/text_set.html#LocalTextSet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.feature.text.text_set.LocalTextSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#zoo.feature.text.text_set.TextSet" title="zoo.feature.text.text_set.TextSet"><code class="xref py py-class docutils literal notranslate"><span class="pre">zoo.feature.text.text_set.TextSet</span></code></a></p>
<p>LocalTextSet is comprised of lists.</p>
</dd></dl>

<dl class="class">
<dt id="zoo.feature.text.text_set.TextSet">
<em class="property">class </em><code class="descclassname">zoo.feature.text.text_set.</code><code class="descname">TextSet</code><span class="sig-paren">(</span><em>jvalue</em>, <em>bigdl_type='float'</em>, <em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/feature/text/text_set.html#TextSet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.feature.text.text_set.TextSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">bigdl.util.common.JavaValue</span></code></p>
<p>TextSet wraps a set of texts with status.</p>
<dl class="classmethod">
<dt id="zoo.feature.text.text_set.TextSet.from_relation_lists">
<em class="property">classmethod </em><code class="descname">from_relation_lists</code><span class="sig-paren">(</span><em>relations</em>, <em>corpus1</em>, <em>corpus2</em>, <em>bigdl_type='float'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/feature/text/text_set.html#TextSet.from_relation_lists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.feature.text.text_set.TextSet.from_relation_lists" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to generate a TextSet for ranking.</p>
<p>This method does the following:
1. For each id1 in relations, find the list of id2 with corresponding label that
comes together with id1.
In other words, group relations by id1.
2. Join with corpus to transform each id to indexedTokens.
Note: Make sure that the corpus has been transformed by SequenceShaper and WordIndexer.
3. For each list, generate a TextFeature having Sample with:
- feature of shape (list_length, text1_length + text2_length).
- label of shape (list_length, 1).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>relations</strong> – List or RDD of Relation.</li>
<li><strong>corpus1</strong> – TextSet that contains all id1 in relations. For each TextFeature in corpus1,</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>text must have been transformed to indexedTokens of the same length.
:param corpus2: TextSet that contains all id2 in relations. For each TextFeature in corpus2,
text must have been transformed to indexedTokens of the same length.
Note that if relations is a list, then corpus1 and corpus2 must both be LocalTextSet.
If relations is RDD, then corpus1 and corpus2 must both be DistributedTextSet.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">TextSet.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="zoo.feature.text.text_set.TextSet.from_relation_pairs">
<em class="property">classmethod </em><code class="descname">from_relation_pairs</code><span class="sig-paren">(</span><em>relations</em>, <em>corpus1</em>, <em>corpus2</em>, <em>bigdl_type='float'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/feature/text/text_set.html#TextSet.from_relation_pairs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.feature.text.text_set.TextSet.from_relation_pairs" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to generate a TextSet for pairwise training.</p>
<p>This method does the following:
1. Generate all RelationPairs: (id1, id2Positive, id2Negative) from Relations.
2. Join RelationPairs with corpus to transform id to indexedTokens.
Note: Make sure that the corpus has been transformed by SequenceShaper and WordIndexer.
3. For each pair, generate a TextFeature having Sample with:
- feature of shape (2, text1Length + text2Length).
- label of value [1 0] as the positive relation is placed before the negative one.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>relations</strong> – List or RDD of Relation.</li>
<li><strong>corpus1</strong> – TextSet that contains all id1 in relations. For each TextFeature in corpus1,</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>text must have been transformed to indexedTokens of the same length.
:param corpus2: TextSet that contains all id2 in relations. For each TextFeature in corpus2,
text must have been transformed to indexedTokens of the same length.
Note that if relations is a list, then corpus1 and corpus2 must both be LocalTextSet.
If relations is RDD, then corpus1 and corpus2 must both be DistributedTextSet.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">TextSet.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zoo.feature.text.text_set.TextSet.generate_sample">
<code class="descname">generate_sample</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/feature/text/text_set.html#TextSet.generate_sample"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.feature.text.text_set.TextSet.generate_sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate BigDL Sample.
Need to word2idx first.
See TextFeatureToSample for more details.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">TextSet with Samples.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zoo.feature.text.text_set.TextSet.generate_word_index_map">
<code class="descname">generate_word_index_map</code><span class="sig-paren">(</span><em>remove_topN=0</em>, <em>max_words_num=-1</em>, <em>min_freq=1</em>, <em>existing_map=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/feature/text/text_set.html#TextSet.generate_word_index_map"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.feature.text.text_set.TextSet.generate_word_index_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate word_index map based on sorted word frequencies in descending order.
Return the result dictionary, which can also be retrieved by ‘get_word_index()’.
Make sure you call this after tokenize. Otherwise you will get an error.
See word2idx for more details.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Dictionary {word: id}</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zoo.feature.text.text_set.TextSet.get_labels">
<code class="descname">get_labels</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/feature/text/text_set.html#TextSet.get_labels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.feature.text.text_set.TextSet.get_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the labels of a TextSet (if any).
If a text doesn’t have a label, its corresponding position will be -1.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">List of int for LocalTextSet.</td>
</tr>
</tbody>
</table>
<p>RDD of int for DistributedTextSet.</p>
</dd></dl>

<dl class="method">
<dt id="zoo.feature.text.text_set.TextSet.get_predicts">
<code class="descname">get_predicts</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/feature/text/text_set.html#TextSet.get_predicts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.feature.text.text_set.TextSet.get_predicts" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the prediction results (if any) combined with uris (if any) of a TextSet.
If a text doesn’t have a uri, its corresponding uri will be None.
If a text hasn’t been predicted by a model, its corresponding prediction will be None.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">List of (uri, prediction as a list of numpy array) for LocalTextSet.</td>
</tr>
</tbody>
</table>
<p>RDD of (uri, prediction as a list of numpy array) for DistributedTextSet.</p>
</dd></dl>

<dl class="method">
<dt id="zoo.feature.text.text_set.TextSet.get_samples">
<code class="descname">get_samples</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/feature/text/text_set.html#TextSet.get_samples"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.feature.text.text_set.TextSet.get_samples" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the BigDL Sample representations of a TextSet (if any).
If a text hasn’t been transformed to Sample, its corresponding position will be None.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">List of Sample for LocalTextSet.</td>
</tr>
</tbody>
</table>
<p>RDD of Sample for DistributedTextSet.</p>
</dd></dl>

<dl class="method">
<dt id="zoo.feature.text.text_set.TextSet.get_texts">
<code class="descname">get_texts</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/feature/text/text_set.html#TextSet.get_texts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.feature.text.text_set.TextSet.get_texts" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the text contents of a TextSet.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">List of String for LocalTextSet.</td>
</tr>
</tbody>
</table>
<p>RDD of String for DistributedTextSet.</p>
</dd></dl>

<dl class="method">
<dt id="zoo.feature.text.text_set.TextSet.get_uris">
<code class="descname">get_uris</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/feature/text/text_set.html#TextSet.get_uris"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.feature.text.text_set.TextSet.get_uris" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the identifiers of a TextSet.
If a text doesn’t have a uri, its corresponding position will be None.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">List of String for LocalTextSet.</td>
</tr>
</tbody>
</table>
<p>RDD of String for DistributedTextSet.</p>
</dd></dl>

<dl class="method">
<dt id="zoo.feature.text.text_set.TextSet.get_word_index">
<code class="descname">get_word_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/feature/text/text_set.html#TextSet.get_word_index"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.feature.text.text_set.TextSet.get_word_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the word_index dictionary of the TextSet.
If the TextSet hasn’t been transformed from word to index, None will be returned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Dictionary {word: id}</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zoo.feature.text.text_set.TextSet.is_distributed">
<code class="descname">is_distributed</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/feature/text/text_set.html#TextSet.is_distributed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.feature.text.text_set.TextSet.is_distributed" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether it is a DistributedTextSet.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Boolean</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zoo.feature.text.text_set.TextSet.is_local">
<code class="descname">is_local</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/feature/text/text_set.html#TextSet.is_local"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.feature.text.text_set.TextSet.is_local" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether it is a LocalTextSet.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Boolean</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zoo.feature.text.text_set.TextSet.load_word_index">
<code class="descname">load_word_index</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/feature/text/text_set.html#TextSet.load_word_index"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.feature.text.text_set.TextSet.load_word_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the word_index map which was saved after the training, so that this TextSet can
directly use this word_index during inference.
Each separate line should be “word id”.</p>
<p>Note that after calling <cite>load_word_index</cite>, you do not need to specify any argument when
calling <cite>word2idx</cite> in the preprocessing pipeline as now you are using exactly the loaded
word_index for transformation.</p>
<p>For LocalTextSet, load txt from a local file system.
For DistributedTextSet, load txt from a local or distributed file system (such as HDFS).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">TextSet with the loaded word_index.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zoo.feature.text.text_set.TextSet.normalize">
<code class="descname">normalize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/feature/text/text_set.html#TextSet.normalize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.feature.text.text_set.TextSet.normalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Do normalization on tokens.
Need to tokenize first.
See Normalizer for more details.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">TextSet after normalization.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zoo.feature.text.text_set.TextSet.random_split">
<code class="descname">random_split</code><span class="sig-paren">(</span><em>weights</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/feature/text/text_set.html#TextSet.random_split"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.feature.text.text_set.TextSet.random_split" title="Permalink to this definition">¶</a></dt>
<dd><p>Randomly split into list of TextSet with provided weights.
Only available for DistributedTextSet for now.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>weights</strong> – List of float indicating the split portions.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="zoo.feature.text.text_set.TextSet.read">
<em class="property">classmethod </em><code class="descname">read</code><span class="sig-paren">(</span><em>path</em>, <em>sc=None</em>, <em>min_partitions=1</em>, <em>bigdl_type='float'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/feature/text/text_set.html#TextSet.read"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.feature.text.text_set.TextSet.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read text files with labels from a directory.
The folder structure is expected to be the following:
path
<a href="#id1"><span class="problematic" id="id2">|</span></a>dir1 - text1, text2, …
<a href="#id3"><span class="problematic" id="id4">|</span></a>dir2 - text1, text2, …
<a href="#id5"><span class="problematic" id="id6">|</span></a>dir3 - text1, text2, …
Under the target path, there ought to be N subdirectories (dir1 to dirN). Each
subdirectory represents a category and contains all texts that belong to such
category. Each category will be a given a label according to its position in the
ascending order sorted among all subdirectories.
All texts will be given a label according to the subdirectory where it is located.
Labels start from 0.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>path</strong> – The folder path to texts. Local or distributed file system (such as HDFS)</td>
</tr>
</tbody>
</table>
<p>are supported. If you want to read from a distributed file system, sc
needs to be specified.
:param sc: An instance of SparkContext.
If specified, texts will be read as a DistributedTextSet.
Default is None and in this case texts will be read as a LocalTextSet.
:param min_partitions: Int. A suggestion value of the minimal partition number for input
texts. Only need to specify this when sc is not None. Default is 1.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">TextSet.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="zoo.feature.text.text_set.TextSet.read_csv">
<em class="property">classmethod </em><code class="descname">read_csv</code><span class="sig-paren">(</span><em>path</em>, <em>sc=None</em>, <em>min_partitions=1</em>, <em>bigdl_type='float'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/feature/text/text_set.html#TextSet.read_csv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.feature.text.text_set.TextSet.read_csv" title="Permalink to this definition">¶</a></dt>
<dd><p>Read texts with id from csv file.
Each record is supposed to contain the following two fields in order:
id(string) and text(string).
Note that the csv file should be without header.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>path</strong> – The path to the csv file. Local or distributed file system (such as HDFS)</td>
</tr>
</tbody>
</table>
<p>are supported. If you want to read from a distributed file system, sc
needs to be specified.
:param sc: An instance of SparkContext.
If specified, texts will be read as a DistributedTextSet.
Default is None and in this case texts will be read as a LocalTextSet.
:param min_partitions: Int. A suggestion value of the minimal partition number for input
texts. Only need to specify this when sc is not None. Default is 1.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">TextSet.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="zoo.feature.text.text_set.TextSet.read_parquet">
<em class="property">classmethod </em><code class="descname">read_parquet</code><span class="sig-paren">(</span><em>path</em>, <em>sc</em>, <em>bigdl_type='float'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/feature/text/text_set.html#TextSet.read_parquet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.feature.text.text_set.TextSet.read_parquet" title="Permalink to this definition">¶</a></dt>
<dd><p>Read texts with id from parquet file.
Schema should be the following:
“id”(string) and “text”(string).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>path</strong> – The path to the parquet file.</li>
<li><strong>sc</strong> – An instance of SparkContext.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">DistributedTextSet.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zoo.feature.text.text_set.TextSet.save_word_index">
<code class="descname">save_word_index</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/feature/text/text_set.html#TextSet.save_word_index"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.feature.text.text_set.TextSet.save_word_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the word_index dictionary to text file, which can be used for future inference.
Each separate line will be “word id”.</p>
<p>For LocalTextSet, save txt to a local file system.
For DistributedTextSet, save txt to a local or distributed file system (such as HDFS).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>path</strong> – The path to the text file.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zoo.feature.text.text_set.TextSet.set_word_index">
<code class="descname">set_word_index</code><span class="sig-paren">(</span><em>vocab</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/feature/text/text_set.html#TextSet.set_word_index"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.feature.text.text_set.TextSet.set_word_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Assign a word_index dictionary for this TextSet to use during word2idx.
If you load the word_index from the saved file, you are recommended to use <cite>load_word_index</cite>
directly.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">TextSet with the word_index set.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zoo.feature.text.text_set.TextSet.shape_sequence">
<code class="descname">shape_sequence</code><span class="sig-paren">(</span><em>len</em>, <em>trunc_mode='pre'</em>, <em>pad_element=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/feature/text/text_set.html#TextSet.shape_sequence"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.feature.text.text_set.TextSet.shape_sequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Shape the sequence of indices to a fixed length.
Need to word2idx first.
See SequenceShaper for more details.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">TextSet after sequence shaping.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zoo.feature.text.text_set.TextSet.to_distributed">
<code class="descname">to_distributed</code><span class="sig-paren">(</span><em>sc=None</em>, <em>partition_num=4</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/feature/text/text_set.html#TextSet.to_distributed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.feature.text.text_set.TextSet.to_distributed" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert to a DistributedTextSet.</p>
<p>Need to specify SparkContext to convert a LocalTextSet to a DistributedTextSet.
In this case, you may also want to specify partition_num, the default of which is 4.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">DistributedTextSet</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zoo.feature.text.text_set.TextSet.to_local">
<code class="descname">to_local</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/feature/text/text_set.html#TextSet.to_local"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.feature.text.text_set.TextSet.to_local" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert to a LocalTextSet.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">LocalTextSet</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zoo.feature.text.text_set.TextSet.tokenize">
<code class="descname">tokenize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/feature/text/text_set.html#TextSet.tokenize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.feature.text.text_set.TextSet.tokenize" title="Permalink to this definition">¶</a></dt>
<dd><p>Do tokenization on original text.
See Tokenizer for more details.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">TextSet after tokenization.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zoo.feature.text.text_set.TextSet.transform">
<code class="descname">transform</code><span class="sig-paren">(</span><em>transformer</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/feature/text/text_set.html#TextSet.transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.feature.text.text_set.TextSet.transform" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zoo.feature.text.text_set.TextSet.word2idx">
<code class="descname">word2idx</code><span class="sig-paren">(</span><em>remove_topN=0</em>, <em>max_words_num=-1</em>, <em>min_freq=1</em>, <em>existing_map=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/feature/text/text_set.html#TextSet.word2idx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.feature.text.text_set.TextSet.word2idx" title="Permalink to this definition">¶</a></dt>
<dd><p>Map word tokens to indices.
Important: Take care that this method behaves a bit differently for training and inference.</p>
<p>—————————————Training——————————————–
During the training, you need to generate a new word_index dictionary according to the texts
you are dealing with. Thus this method will first do the dictionary generation and then
convert words to indices based on the generated dictionary.</p>
<p>You can specify the following arguments which pose some constraints when generating
the dictionary.
In the result dictionary, index will start from 1 and corresponds to the occurrence
frequency of each word sorted in descending order.
Here we adopt the convention that index 0 will be reserved for unknown words.
After word2idx, you can get the generated word_index dictionary by calling ‘get_word_index’.
Also, you can call <cite>save_word_index</cite> to save this word_index dictionary to be used in
future training.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>remove_topN</strong> – Non-negative int. Remove the topN words with highest frequencies</td>
</tr>
</tbody>
</table>
<p>in the case where those are treated as stopwords.
Default is 0, namely remove nothing.
:param max_words_num: Int. The maximum number of words to be taken into consideration.
Default is -1, namely all words will be considered.
Otherwise, it should be a positive int.
:param min_freq: Positive int. Only those words with frequency &gt;= min_freq will be taken
into consideration.
Default is 1, namely all words that occur will be considered.
:param existing_map: Existing dictionary of word_index if any.
Default is None and in this case a new dictionary with index starting
from 1 will be generated.
If not None, then the generated dictionary will preserve the word_index
in existing_map and assign subsequent indices to new words.</p>
<p>—————————————Inference——————————————–
During the inference, you are supposed to use exactly the same word_index dictionary as in
the training stage instead of generating a new one.
Thus please be aware that you do not need to specify any of the above arguments.
You need to call <cite>load_word_index</cite> or <cite>set_word_index</cite> beforehand for dictionary loading.</p>
<p>Need to tokenize first.
See WordIndexer for more details.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">TextSet after word2idx.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-zoo.feature.text.transformer">
<span id="zoo-feature-text-transformer-module"></span><h2>zoo.feature.text.transformer module<a class="headerlink" href="#module-zoo.feature.text.transformer" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="zoo.feature.text.transformer.Normalizer">
<em class="property">class </em><code class="descclassname">zoo.feature.text.transformer.</code><code class="descname">Normalizer</code><span class="sig-paren">(</span><em>bigdl_type='float'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/feature/text/transformer.html#Normalizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.feature.text.transformer.Normalizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#zoo.feature.text.transformer.TextTransformer" title="zoo.feature.text.transformer.TextTransformer"><code class="xref py py-class docutils literal notranslate"><span class="pre">zoo.feature.text.transformer.TextTransformer</span></code></a></p>
<p>Removes all dirty characters (non English alphabet) from tokens and converts words to
lower case. Need to tokenize first.
Original tokens will be replaced by normalized tokens.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">normalizer</span> <span class="o">=</span> <span class="n">Normalizer</span><span class="p">()</span>
<span class="go">creating: createNormalizer</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="zoo.feature.text.transformer.SequenceShaper">
<em class="property">class </em><code class="descclassname">zoo.feature.text.transformer.</code><code class="descname">SequenceShaper</code><span class="sig-paren">(</span><em>len</em>, <em>trunc_mode='pre'</em>, <em>pad_element=0</em>, <em>bigdl_type='float'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/feature/text/transformer.html#SequenceShaper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.feature.text.transformer.SequenceShaper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#zoo.feature.text.transformer.TextTransformer" title="zoo.feature.text.transformer.TextTransformer"><code class="xref py py-class docutils literal notranslate"><span class="pre">zoo.feature.text.transformer.TextTransformer</span></code></a></p>
<p>Shape the sequence of indices to a fixed length.
If the original sequence is longer than the target length, it will be truncated from
the beginning or the end.
If the original sequence is shorter than the target length, it will be padded to the end.
Need to word2idx first.
The original indices sequence will be replaced by the shaped sequence.</p>
<p># Arguments
len: Positive int. The target length.
trunc_mode: Truncation mode. String. Either ‘pre’ or ‘post’. Default is ‘pre’.
If ‘pre’, the sequence will be truncated from the beginning.
If ‘post’, the sequence will be truncated from the end.
pad_element: Int. The element to be padded to the sequence if the original length is
smaller than the target length.
Default is 0 with the convention that we reserve index 0 for unknown words.
&gt;&gt;&gt; sequence_shaper = SequenceShaper(len=6, trunc_mode=”post”, pad_element=10000)
creating: createSequenceShaper</p>
</dd></dl>

<dl class="class">
<dt id="zoo.feature.text.transformer.TextFeatureToSample">
<em class="property">class </em><code class="descclassname">zoo.feature.text.transformer.</code><code class="descname">TextFeatureToSample</code><span class="sig-paren">(</span><em>bigdl_type='float'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/feature/text/transformer.html#TextFeatureToSample"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.feature.text.transformer.TextFeatureToSample" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#zoo.feature.text.transformer.TextTransformer" title="zoo.feature.text.transformer.TextTransformer"><code class="xref py py-class docutils literal notranslate"><span class="pre">zoo.feature.text.transformer.TextTransformer</span></code></a></p>
<p>Transform indexedTokens and label (if any) of a TextFeature to a BigDL Sample.
Need to word2idx first.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">to_sample</span> <span class="o">=</span> <span class="n">TextFeatureToSample</span><span class="p">()</span>
<span class="go">creating: createTextFeatureToSample</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="zoo.feature.text.transformer.TextTransformer">
<em class="property">class </em><code class="descclassname">zoo.feature.text.transformer.</code><code class="descname">TextTransformer</code><span class="sig-paren">(</span><em>bigdl_type='float'</em>, <em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/feature/text/transformer.html#TextTransformer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.feature.text.transformer.TextTransformer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="zoo.feature.html#zoo.feature.common.Preprocessing" title="zoo.feature.common.Preprocessing"><code class="xref py py-class docutils literal notranslate"><span class="pre">zoo.feature.common.Preprocessing</span></code></a></p>
<p>Base class of Transformers that transform TextFeature.</p>
<dl class="method">
<dt id="zoo.feature.text.transformer.TextTransformer.transform">
<code class="descname">transform</code><span class="sig-paren">(</span><em>text_feature</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/feature/text/transformer.html#TextTransformer.transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.feature.text.transformer.TextTransformer.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform a TextFeature.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="zoo.feature.text.transformer.Tokenizer">
<em class="property">class </em><code class="descclassname">zoo.feature.text.transformer.</code><code class="descname">Tokenizer</code><span class="sig-paren">(</span><em>bigdl_type='float'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/feature/text/transformer.html#Tokenizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.feature.text.transformer.Tokenizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#zoo.feature.text.transformer.TextTransformer" title="zoo.feature.text.transformer.TextTransformer"><code class="xref py py-class docutils literal notranslate"><span class="pre">zoo.feature.text.transformer.TextTransformer</span></code></a></p>
<p>Transform text to array of string tokens.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tokenizer</span> <span class="o">=</span> <span class="n">Tokenizer</span><span class="p">()</span>
<span class="go">creating: createTokenizer</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="zoo.feature.text.transformer.WordIndexer">
<em class="property">class </em><code class="descclassname">zoo.feature.text.transformer.</code><code class="descname">WordIndexer</code><span class="sig-paren">(</span><em>map</em>, <em>bigdl_type='float'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/feature/text/transformer.html#WordIndexer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.feature.text.transformer.WordIndexer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#zoo.feature.text.transformer.TextTransformer" title="zoo.feature.text.transformer.TextTransformer"><code class="xref py py-class docutils literal notranslate"><span class="pre">zoo.feature.text.transformer.TextTransformer</span></code></a></p>
<p>Given a wordIndex map, transform tokens to corresponding indices.
Those words not in the map will be aborted.
Need to tokenize first.</p>
<p># Arguments
map: Dict with word (string) as its key and index (int) as its value.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">word_indexer</span> <span class="o">=</span> <span class="n">WordIndexer</span><span class="p">(</span><span class="nb">map</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;it&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;me&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">})</span>
<span class="go">creating: createWordIndexer</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="module-zoo.feature.text">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-zoo.feature.text" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="zoo.models.html" title="zoo.models package"
             >next</a> |</li>
        <li class="right" >
          <a href="zoo.feature.image3d.html" title="zoo.feature.image3d package"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">analytics-zoo  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="zoo.html" >zoo package</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="zoo.feature.html" >zoo.feature package</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, Intel.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.4.
    </div>
  </body>
</html>