
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>zoo.pipeline.api.net package &#8212; analytics-zoo  documentation</title>
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="zoo.pipeline.api.onnx package" href="zoo.pipeline.api.onnx.html" />
    <link rel="prev" title="zoo.pipeline.api.keras2.layers package" href="zoo.pipeline.api.keras2.layers.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="zoo.pipeline.api.onnx.html" title="zoo.pipeline.api.onnx package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="zoo.pipeline.api.keras2.layers.html" title="zoo.pipeline.api.keras2.layers package"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">analytics-zoo  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="zoo.html" >zoo package</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="zoo.pipeline.html" >zoo.pipeline package</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="zoo.pipeline.api.html" accesskey="U">zoo.pipeline.api package</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">zoo.pipeline.api.net package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-zoo.pipeline.api.net.graph_net">zoo.pipeline.api.net.graph_net module</a></li>
<li><a class="reference internal" href="#module-zoo.pipeline.api.net.net_load">zoo.pipeline.api.net.net_load module</a></li>
<li><a class="reference internal" href="#module-zoo.pipeline.api.net.tf_dataset">zoo.pipeline.api.net.tf_dataset module</a></li>
<li><a class="reference internal" href="#module-zoo.pipeline.api.net.tf_optimizer">zoo.pipeline.api.net.tf_optimizer module</a></li>
<li><a class="reference internal" href="#module-zoo.pipeline.api.net.tf_predictor">zoo.pipeline.api.net.tf_predictor module</a></li>
<li><a class="reference internal" href="#module-zoo.pipeline.api.net.tfnet">zoo.pipeline.api.net.tfnet module</a></li>
<li><a class="reference internal" href="#module-zoo.pipeline.api.net.torch_criterion">zoo.pipeline.api.net.torch_criterion module</a></li>
<li><a class="reference internal" href="#module-zoo.pipeline.api.net.torch_net">zoo.pipeline.api.net.torch_net module</a></li>
<li><a class="reference internal" href="#module-zoo.pipeline.api.net.utils">zoo.pipeline.api.net.utils module</a></li>
<li><a class="reference internal" href="#module-zoo.pipeline.api.net">Module contents</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="zoo.pipeline.api.keras2.layers.html"
                        title="previous chapter">zoo.pipeline.api.keras2.layers package</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="zoo.pipeline.api.onnx.html"
                        title="next chapter">zoo.pipeline.api.onnx package</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/zoo.pipeline.api.net.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="zoo-pipeline-api-net-package">
<h1>zoo.pipeline.api.net package<a class="headerlink" href="#zoo-pipeline-api-net-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-zoo.pipeline.api.net.graph_net">
<span id="zoo-pipeline-api-net-graph-net-module"></span><h2>zoo.pipeline.api.net.graph_net module<a class="headerlink" href="#module-zoo.pipeline.api.net.graph_net" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="zoo.pipeline.api.net.graph_net.GraphNet">
<em class="property">class </em><code class="descclassname">zoo.pipeline.api.net.graph_net.</code><code class="descname">GraphNet</code><span class="sig-paren">(</span><em>input</em>, <em>output</em>, <em>jvalue=None</em>, <em>bigdl_type='float'</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/graph_net.html#GraphNet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.graph_net.GraphNet" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">bigdl.nn.layer.Model</span></code></p>
<dl class="method">
<dt id="zoo.pipeline.api.net.graph_net.GraphNet.flattened_layers">
<code class="descname">flattened_layers</code><span class="sig-paren">(</span><em>include_container=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/graph_net.html#GraphNet.flattened_layers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.graph_net.GraphNet.flattened_layers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zoo.pipeline.api.net.graph_net.GraphNet.freeze_up_to">
<code class="descname">freeze_up_to</code><span class="sig-paren">(</span><em>names</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/graph_net.html#GraphNet.freeze_up_to"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.graph_net.GraphNet.freeze_up_to" title="Permalink to this definition">¶</a></dt>
<dd><p>Freeze the model from the bottom up to the layers specified by names (inclusive).
This is useful for finetuning a model</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>names</strong> – A list of module names to be Freezed</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">current graph model</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="zoo.pipeline.api.net.graph_net.GraphNet.from_jvalue">
<em class="property">static </em><code class="descname">from_jvalue</code><span class="sig-paren">(</span><em>jvalue</em>, <em>bigdl_type='float'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/graph_net.html#GraphNet.from_jvalue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.graph_net.GraphNet.from_jvalue" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a Python Model base on the given java value</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>jvalue</strong> – Java object create by Py4j</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A Python Model</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="zoo.pipeline.api.net.graph_net.GraphNet.layers">
<code class="descname">layers</code><a class="headerlink" href="#zoo.pipeline.api.net.graph_net.GraphNet.layers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zoo.pipeline.api.net.graph_net.GraphNet.new_graph">
<code class="descname">new_graph</code><span class="sig-paren">(</span><em>outputs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/graph_net.html#GraphNet.new_graph"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.graph_net.GraphNet.new_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify a list of nodes as output and return a new graph using the existing nodes</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>outputs</strong> – A list of nodes specified</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A graph model</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zoo.pipeline.api.net.graph_net.GraphNet.predict">
<code class="descname">predict</code><span class="sig-paren">(</span><em>x</em>, <em>batch_per_thread=4</em>, <em>distributed=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/graph_net.html#GraphNet.predict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.graph_net.GraphNet.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Use a model to do prediction.</p>
<p># Arguments
x: Prediction data. A Numpy array or RDD of Sample or ImageSet.
batch_per_thread:
The default value is 4.
When distributed is True,the total batch size is batch_per_thread * rdd.getNumPartitions.
When distributed is False the total batch size is batch_per_thread * numOfCores.
distributed: Boolean. Whether to do prediction in distributed mode or local mode.
Default is True. In local mode, x must be a Numpy array.</p>
</dd></dl>

<dl class="method">
<dt id="zoo.pipeline.api.net.graph_net.GraphNet.to_keras">
<code class="descname">to_keras</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/graph_net.html#GraphNet.to_keras"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.graph_net.GraphNet.to_keras" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zoo.pipeline.api.net.graph_net.GraphNet.unfreeze">
<code class="descname">unfreeze</code><span class="sig-paren">(</span><em>names=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/graph_net.html#GraphNet.unfreeze"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.graph_net.GraphNet.unfreeze" title="Permalink to this definition">¶</a></dt>
<dd><p>“unfreeze” module, i.e. make the module parameters(weight/bias, if exists)
to be trained(updated) in training process.
If ‘names’ is a non-empty list, unfreeze layers that match given names</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>names</strong> – list of module names to be unFreezed. Default is None.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">current graph model</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-zoo.pipeline.api.net.net_load">
<span id="zoo-pipeline-api-net-net-load-module"></span><h2>zoo.pipeline.api.net.net_load module<a class="headerlink" href="#module-zoo.pipeline.api.net.net_load" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="zoo.pipeline.api.net.net_load.JavaToPython">
<em class="property">class </em><code class="descclassname">zoo.pipeline.api.net.net_load.</code><code class="descname">JavaToPython</code><span class="sig-paren">(</span><em>jvalue</em>, <em>bigdl_type='float'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/net_load.html#JavaToPython"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.net_load.JavaToPython" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="zoo.pipeline.api.net.net_load.JavaToPython.get_python_class">
<code class="descname">get_python_class</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/net_load.html#JavaToPython.get_python_class"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.net_load.JavaToPython.get_python_class" title="Permalink to this definition">¶</a></dt>
<dd><p>Redirect the jvalue to the proper python class.
:param jvalue: Java object create by Py4j
:return: A proper Python wrapper which would be a Model, Sequential…</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="zoo.pipeline.api.net.net_load.Net">
<em class="property">class </em><code class="descclassname">zoo.pipeline.api.net.net_load.</code><code class="descname">Net</code><a class="reference internal" href="_modules/zoo/pipeline/api/net/net_load.html#Net"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.net_load.Net" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="staticmethod">
<dt id="zoo.pipeline.api.net.net_load.Net.from_jvalue">
<em class="property">static </em><code class="descname">from_jvalue</code><span class="sig-paren">(</span><em>jvalue</em>, <em>bigdl_type='float'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/net_load.html#Net.from_jvalue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.net_load.Net.from_jvalue" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="zoo.pipeline.api.net.net_load.Net.load">
<em class="property">static </em><code class="descname">load</code><span class="sig-paren">(</span><em>model_path</em>, <em>weight_path=None</em>, <em>bigdl_type='float'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/net_load.html#Net.load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.net_load.Net.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load an existing Analytics Zoo model defined in Keras-style(with weights).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>model_path</strong> – The path to load the saved model.</td>
</tr>
</tbody>
</table>
<p>Local file system, HDFS and Amazon S3 are supported.
HDFS path should be like ‘hdfs://[host]:[port]/xxx’.
Amazon S3 path should be like ‘s3a://bucket/xxx’.
:param weight_path: The path for pre-trained weights if any. Default is None.
:return: An Analytics Zoo model.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="zoo.pipeline.api.net.net_load.Net.load_bigdl">
<em class="property">static </em><code class="descname">load_bigdl</code><span class="sig-paren">(</span><em>model_path</em>, <em>weight_path=None</em>, <em>bigdl_type='float'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/net_load.html#Net.load_bigdl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.net_load.Net.load_bigdl" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a pre-trained BigDL model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>model_path</strong> – The path to the pre-trained model.</li>
<li><strong>weight_path</strong> – The path to the weights of the pre-trained model. Default is None.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A pre-trained model.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="zoo.pipeline.api.net.net_load.Net.load_caffe">
<em class="property">static </em><code class="descname">load_caffe</code><span class="sig-paren">(</span><em>def_path</em>, <em>model_path</em>, <em>bigdl_type='float'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/net_load.html#Net.load_caffe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.net_load.Net.load_caffe" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a pre-trained Caffe model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>def_path</strong> – The path containing the caffe model definition.</li>
<li><strong>model_path</strong> – The path containing the pre-trained caffe model.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A pre-trained model.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="zoo.pipeline.api.net.net_load.Net.load_keras">
<em class="property">static </em><code class="descname">load_keras</code><span class="sig-paren">(</span><em>json_path=None</em>, <em>hdf5_path=None</em>, <em>by_name=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/net_load.html#Net.load_keras"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.net_load.Net.load_keras" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a pre-trained Keras model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>json_path</strong> – The json path containing the keras model definition. Default is None.</li>
<li><strong>hdf5_path</strong> – The HDF5 path containing the pre-trained keras model weights</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>with or without the model architecture. Default is None.
:param by_name: by default the architecture should be unchanged.
If set as True, only layers with the same name will be loaded.
:return: A BigDL model.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="zoo.pipeline.api.net.net_load.Net.load_torch">
<em class="property">static </em><code class="descname">load_torch</code><span class="sig-paren">(</span><em>path</em>, <em>bigdl_type='float'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/net_load.html#Net.load_torch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.net_load.Net.load_torch" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a pre-trained Torch model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>path</strong> – The path containing the pre-trained model.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A pre-trained model.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-zoo.pipeline.api.net.tf_dataset">
<span id="zoo-pipeline-api-net-tf-dataset-module"></span><h2>zoo.pipeline.api.net.tf_dataset module<a class="headerlink" href="#module-zoo.pipeline.api.net.tf_dataset" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="zoo.pipeline.api.net.tf_dataset.MapDataset">
<em class="property">class </em><code class="descclassname">zoo.pipeline.api.net.tf_dataset.</code><code class="descname">MapDataset</code><span class="sig-paren">(</span><em>pre_dataset</em>, <em>map_fn</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_dataset.html#MapDataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_dataset.MapDataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#zoo.pipeline.api.net.tf_dataset.TFDataset" title="zoo.pipeline.api.net.tf_dataset.TFDataset"><code class="xref py py-class docutils literal notranslate"><span class="pre">zoo.pipeline.api.net.tf_dataset.TFDataset</span></code></a></p>
<dl class="method">
<dt id="zoo.pipeline.api.net.tf_dataset.MapDataset.get_evaluation_data">
<code class="descname">get_evaluation_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_dataset.html#MapDataset.get_evaluation_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_dataset.MapDataset.get_evaluation_data" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an object that can be used for TFNet.evaluate,</td>
</tr>
</tbody>
</table>
<p>e.g. an RDD of Sample or a ImageSet</p>
</dd></dl>

<dl class="method">
<dt id="zoo.pipeline.api.net.tf_dataset.MapDataset.get_num_partitions">
<code class="descname">get_num_partitions</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_dataset.html#MapDataset.get_num_partitions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_dataset.MapDataset.get_num_partitions" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the num of partitions of the underlying RDD</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zoo.pipeline.api.net.tf_dataset.MapDataset.get_prediction_data">
<code class="descname">get_prediction_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_dataset.html#MapDataset.get_prediction_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_dataset.MapDataset.get_prediction_data" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an object that can be used for TFNet.predict</td>
</tr>
</tbody>
</table>
<p>e.g. an RDD of Sample or a ImageSet</p>
</dd></dl>

<dl class="method">
<dt id="zoo.pipeline.api.net.tf_dataset.MapDataset.get_training_data">
<code class="descname">get_training_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_dataset.html#MapDataset.get_training_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_dataset.MapDataset.get_training_data" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an object that can be used to create a BigDL optimizer,</td>
</tr>
</tbody>
</table>
<p>e.g. an RDD of Sample or a DataSet</p>
</dd></dl>

<dl class="method">
<dt id="zoo.pipeline.api.net.tf_dataset.MapDataset.get_validation_data">
<code class="descname">get_validation_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_dataset.html#MapDataset.get_validation_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_dataset.MapDataset.get_validation_data" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an object that can be used to set validation in a BigDL optimizer,</td>
</tr>
</tbody>
</table>
<p>e.g. an RDD of Sample or a DataSet</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="zoo.pipeline.api.net.tf_dataset.MergeFeatureLabelFeatureTransformer">
<em class="property">class </em><code class="descclassname">zoo.pipeline.api.net.tf_dataset.</code><code class="descname">MergeFeatureLabelFeatureTransformer</code><span class="sig-paren">(</span><em>bigdl_type='float'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_dataset.html#MergeFeatureLabelFeatureTransformer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_dataset.MergeFeatureLabelFeatureTransformer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">bigdl.transform.vision.image.FeatureTransformer</span></code></p>
</dd></dl>

<dl class="class">
<dt id="zoo.pipeline.api.net.tf_dataset.MergeFeatureLabelImagePreprocessing">
<em class="property">class </em><code class="descclassname">zoo.pipeline.api.net.tf_dataset.</code><code class="descname">MergeFeatureLabelImagePreprocessing</code><span class="sig-paren">(</span><em>bigdl_type='float'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_dataset.html#MergeFeatureLabelImagePreprocessing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_dataset.MergeFeatureLabelImagePreprocessing" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="zoo.feature.image.html#zoo.feature.image.imagePreprocessing.ImagePreprocessing" title="zoo.feature.image.imagePreprocessing.ImagePreprocessing"><code class="xref py py-class docutils literal notranslate"><span class="pre">zoo.feature.image.imagePreprocessing.ImagePreprocessing</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="zoo.pipeline.api.net.tf_dataset.TFBytesDataset">
<em class="property">class </em><code class="descclassname">zoo.pipeline.api.net.tf_dataset.</code><code class="descname">TFBytesDataset</code><span class="sig-paren">(</span><em>string_rdd</em>, <em>batch_size</em>, <em>batch_per_thread</em>, <em>hard_code_batch_size=False</em>, <em>validation_string_rdd=None</em>, <em>sequential_order=False</em>, <em>shuffle=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_dataset.html#TFBytesDataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_dataset.TFBytesDataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#zoo.pipeline.api.net.tf_dataset.TFDataset" title="zoo.pipeline.api.net.tf_dataset.TFDataset"><code class="xref py py-class docutils literal notranslate"><span class="pre">zoo.pipeline.api.net.tf_dataset.TFDataset</span></code></a></p>
<dl class="method">
<dt id="zoo.pipeline.api.net.tf_dataset.TFBytesDataset.get_evaluation_data">
<code class="descname">get_evaluation_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_dataset.html#TFBytesDataset.get_evaluation_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_dataset.TFBytesDataset.get_evaluation_data" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an object that can be used for TFNet.evaluate,</td>
</tr>
</tbody>
</table>
<p>e.g. an RDD of Sample or a ImageSet</p>
</dd></dl>

<dl class="method">
<dt id="zoo.pipeline.api.net.tf_dataset.TFBytesDataset.get_num_partitions">
<code class="descname">get_num_partitions</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_dataset.html#TFBytesDataset.get_num_partitions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_dataset.TFBytesDataset.get_num_partitions" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the num of partitions of the underlying RDD</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zoo.pipeline.api.net.tf_dataset.TFBytesDataset.get_prediction_data">
<code class="descname">get_prediction_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_dataset.html#TFBytesDataset.get_prediction_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_dataset.TFBytesDataset.get_prediction_data" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an object that can be used for TFNet.predict</td>
</tr>
</tbody>
</table>
<p>e.g. an RDD of Sample or a ImageSet</p>
</dd></dl>

<dl class="method">
<dt id="zoo.pipeline.api.net.tf_dataset.TFBytesDataset.get_training_data">
<code class="descname">get_training_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_dataset.html#TFBytesDataset.get_training_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_dataset.TFBytesDataset.get_training_data" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an object that can be used to create a BigDL optimizer,</td>
</tr>
</tbody>
</table>
<p>e.g. an RDD of Sample or a DataSet</p>
</dd></dl>

<dl class="method">
<dt id="zoo.pipeline.api.net.tf_dataset.TFBytesDataset.get_validation_data">
<code class="descname">get_validation_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_dataset.html#TFBytesDataset.get_validation_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_dataset.TFBytesDataset.get_validation_data" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an object that can be used to set validation in a BigDL optimizer,</td>
</tr>
</tbody>
</table>
<p>e.g. an RDD of Sample or a DataSet</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="zoo.pipeline.api.net.tf_dataset.TFDataset">
<em class="property">class </em><code class="descclassname">zoo.pipeline.api.net.tf_dataset.</code><code class="descname">TFDataset</code><span class="sig-paren">(</span><em>tensor_structure</em>, <em>batch_size</em>, <em>batch_per_thread</em>, <em>hard_code_batch_size=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_dataset.html#TFDataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_dataset.TFDataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="attribute">
<dt id="zoo.pipeline.api.net.tf_dataset.TFDataset.feature_tensors">
<code class="descname">feature_tensors</code><a class="headerlink" href="#zoo.pipeline.api.net.tf_dataset.TFDataset.feature_tensors" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="zoo.pipeline.api.net.tf_dataset.TFDataset.from_bytes_rdd">
<em class="property">static </em><code class="descname">from_bytes_rdd</code><span class="sig-paren">(</span><em>bytes_rdd</em>, <em>batch_size=-1</em>, <em>batch_per_thread=-1</em>, <em>hard_code_batch_size=False</em>, <em>validation_bytes_rdd=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_dataset.html#TFDataset.from_bytes_rdd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_dataset.TFDataset.from_bytes_rdd" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a TFDataset from a RDD of bytes. Each element is the RDD should be a bytes object.
The returning TFDataset’s feature_tensors has only one Tensor. the type of the Tensor
is tf.string, and the shape is (None,). The returning don’t have label_tensors. If the
dataset is used for training, the label should be encoded in the bytes.
:param bytes_rdd: the RDD of bytes
:param batch_size: the batch size, used for training, should be a multiple of
total core num
:param batch_per_thread: the batch size for each thread, used for inference or evaluation
:param hard_code_batch_size: whether to hard code the batch_size into tensorflow graph,
if True, the static size of the first dimension of the resulting tensors is
batch_size/total_core_num (training) or batch_per_thread for inference; if False,
it is None.
:param validation_bytes_rdd: the RDD of bytes to be used in validation
:return: a TFDataset</p>
</dd></dl>

<dl class="staticmethod">
<dt id="zoo.pipeline.api.net.tf_dataset.TFDataset.from_feature_set">
<em class="property">static </em><code class="descname">from_feature_set</code><span class="sig-paren">(</span><em>dataset</em>, <em>features</em>, <em>labels=None</em>, <em>batch_size=-1</em>, <em>batch_per_thread=-1</em>, <em>hard_code_batch_size=False</em>, <em>validation_dataset=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_dataset.html#TFDataset.from_feature_set"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_dataset.TFDataset.from_feature_set" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a TFDataset from a FeatureSet. Currently, the element in this Feature set must be a
Sample, i.e. the result of ImageFeatureToSample transformer
:param dataset: the feature set used to create this TFDataset
:param features: a tuple of two, the first element is the type of this input feature,
the second element is the shape of this element, i.e. (tf.float32, [224, 224, 3])).
text can also be nested structure of this tuple of two.
:param labels: a tuple of two, the first element is the type of label, the second element
is the shape of this element, i.e. (tf.int32, [1])). label can also be nested structure of
this tuple of two.
:param batch_size: the batch size, used for training, should be a multiple of
total core num
:param batch_per_thread: the batch size for each thread, used for inference or evaluation
:param hard_code_batch_size: whether to hard code the batch_size into tensorflow graph,
if True, the static size of the first dimension of the resulting tensors is
batch_size/total_core_num (training) or batch_per_thread for inference; if False,
it is None.
:param validation_dataset: The FeatureSet used for validation during training
:return: a TFDataset</p>
</dd></dl>

<dl class="staticmethod">
<dt id="zoo.pipeline.api.net.tf_dataset.TFDataset.from_image_set">
<em class="property">static </em><code class="descname">from_image_set</code><span class="sig-paren">(</span><em>image_set</em>, <em>image</em>, <em>label=None</em>, <em>batch_size=-1</em>, <em>batch_per_thread=-1</em>, <em>hard_code_batch_size=False</em>, <em>validation_image_set=None</em>, <em>sequential_order=False</em>, <em>shuffle=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_dataset.html#TFDataset.from_image_set"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_dataset.TFDataset.from_image_set" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a TFDataset from a ImagetSet. Each ImageFeature in the ImageSet should
already has the “sample” field, i.e. the result of ImageSetToSample transformer</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>image_set</strong> – the ImageSet used to create this TFDataset</li>
<li><strong>image</strong> – a tuple of two, the first element is the type of image, the second element</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>is the shape of this element, i.e. (tf.float32, [224, 224, 3]))
:param label: a tuple of two, the first element is the type of label, the second element
is the shape of this element, i.e. (tf.int32, [1]))
:param batch_size: the batch size, used for training, should be a multiple of
total core num
:param batch_per_thread: the batch size for each thread, used for inference or evaluation
:param hard_code_batch_size: whether to hard code the batch_size into tensorflow graph,
if True, the static size of the first dimension of the resulting tensors is
batch_size/total_core_num (training) or batch_per_thread for inference; if False,
it is None.
:param validation_image_set: the ImageSet used for validation during training
:param sequential_order: whether to iterate the elements in the Dataset
in sequential order when training.
:param shuffle: whether to shuffle the elements in each partition before each epoch
when training
:return: a TFDataset</p>
</dd></dl>

<dl class="staticmethod">
<dt id="zoo.pipeline.api.net.tf_dataset.TFDataset.from_ndarrays">
<em class="property">static </em><code class="descname">from_ndarrays</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_dataset.html#TFDataset.from_ndarrays"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_dataset.TFDataset.from_ndarrays" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a TFDataset from a nested structure of numpy ndarrays. Each element
in the resulting TFDataset has the same structure of the argument tensors and
is created by indexing on the first dimension of each ndarray in the tensors
argument.</p>
<p>This method is equivalent to sc.parallize the tensors and call TFDataset.from_rdd</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>tensors</strong> – the numpy ndarrays</li>
<li><strong>batch_size</strong> – the batch size, used for training, should be a multiple of</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>total core num
:param batch_per_thread: the batch size for each thread, used for inference or evaluation
:param hard_code_batch_size: whether to hard code the batch_size into tensorflow graph,
if True, the static size of the first dimension of the resulting tensors is
batch_size/total_core_num (training) or batch_per_thread for inference; if False,
it is None.
:param val_tensors: the numpy ndarrays used for validation during training
:param sequential_order: whether to iterate the elements in the Dataset
in sequential order when training.
:param shuffle: whether to shuffle the elements in each partition before each epoch
when training
:return: a TFDataset</p>
</dd></dl>

<dl class="staticmethod">
<dt id="zoo.pipeline.api.net.tf_dataset.TFDataset.from_rdd">
<em class="property">static </em><code class="descname">from_rdd</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_dataset.html#TFDataset.from_rdd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_dataset.TFDataset.from_rdd" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a TFDataset from a rdd.</p>
<p>For training and evaluation, both <cite>features</cite> and <cite>labels</cite> arguments should be specified.
The element of the rdd should be a tuple of two, (features, labels), each has the
same structure of numpy.ndarrays of the argument <cite>features</cite>, <cite>labels</cite>.</p>
<p>E.g. if <cite>features</cite> is [(tf.float32, [10]), (tf.float32, [20])],
and <cite>labels</cite> is {“label1”:(tf.float32, [10]), “label2”: (tf.float32, [20])}
then a valid element of the rdd could be</p>
<p>(
[np.zeros(dtype=float, shape=(10,), np.zeros(dtype=float, shape=(10,)))],
{“label1”: np.zeros(dtype=float, shape=(10,)),
“label2”:np.zeros(dtype=float, shape=(10,))))}
)</p>
<p>If <cite>labels</cite> is not specified,
then the above element should be changed to
[np.zeros(dtype=float, shape=(10,), np.zeros(dtype=float, shape=(10,)))]</p>
<p>For inference, <cite>labels</cite> can be not specified.
The element of the rdd should be some ndarrays of the same structure of the <cite>features</cite>
argument.</p>
<p>A note on the legacy api: if you are using <cite>names</cite>, <cite>shapes</cite>, <cite>types</cite> arguments,
each element of the rdd should be a list of numpy.ndarray.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>rdd</strong> – a rdd containing the numpy.ndarrays to be used</td>
</tr>
</tbody>
</table>
<p>for training/evaluation/inference
:param features: the structure of input features, should one the following:
- a tuple (dtype, shape), e.g. (tf.float32, [28, 28, 1])
- a list of such tuple [(dtype1, shape1), (dtype2, shape2)],
e.g. [(tf.float32, [10]), (tf.float32, [20])],
- a dict of such tuple, mapping string names to tuple {“name”: (dtype, shape},
e.g. {“input1”:(tf.float32, [10]), “input2”: (tf.float32, [20])}</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>labels</strong> – the structure of input labels, format is the same as features</li>
<li><strong>batch_size</strong> – the batch size, used for training, should be a multiple of</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>total core num
:param batch_per_thread: the batch size for each thread, used for inference or evaluation
:param hard_code_batch_size: whether to hard code the batch_size into tensorflow graph,
if True, the static size of the first dimension of the resulting tensors is
batch_size/total_core_num (training) or batch_per_thread for inference; if False,
it is None.
:param val_rdd: validation data with the same structure of rdd
:param sequential_order: whether to iterate the elements in the Dataset
in sequential order when training.
:param shuffle: whether to shuffle the elements in each partition before each epoch
when training
:return: a TFDataset</p>
</dd></dl>

<dl class="staticmethod">
<dt id="zoo.pipeline.api.net.tf_dataset.TFDataset.from_string_rdd">
<em class="property">static </em><code class="descname">from_string_rdd</code><span class="sig-paren">(</span><em>string_rdd</em>, <em>batch_size=-1</em>, <em>batch_per_thread=-1</em>, <em>hard_code_batch_size=False</em>, <em>validation_string_rdd=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_dataset.html#TFDataset.from_string_rdd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_dataset.TFDataset.from_string_rdd" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a TFDataset from a RDD of strings. Each element is the RDD should be a single string.
The returning TFDataset’s feature_tensors has only one Tensor. the type of the Tensor
is tf.string, and the shape is (None,). The returning don’t have label_tensors. If the
dataset is used for training, the label should be encoded in the string.
:param string_rdd: the RDD of strings
:param batch_size: the batch size, used for training, should be a multiple of
total core num
:param batch_per_thread: the batch size for each thread, used for inference or evaluation
:param hard_code_batch_size: whether to hard code the batch_size into tensorflow graph,
if True, the static size of the first dimension of the resulting tensors is
batch_size/total_core_num (training) or batch_per_thread for inference; if False,
it is None.
:param validation_string_rdd: the RDD of strings to be used in validation
:return: a TFDataset</p>
</dd></dl>

<dl class="staticmethod">
<dt id="zoo.pipeline.api.net.tf_dataset.TFDataset.from_text_set">
<em class="property">static </em><code class="descname">from_text_set</code><span class="sig-paren">(</span><em>text_set</em>, <em>text</em>, <em>label=None</em>, <em>batch_size=-1</em>, <em>batch_per_thread=-1</em>, <em>hard_code_batch_size=False</em>, <em>validation_image_set=None</em>, <em>sequential_order=False</em>, <em>shuffle=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_dataset.html#TFDataset.from_text_set"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_dataset.TFDataset.from_text_set" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a TFDataset from a TextSet. The TextSet must be transformed to Sample, i.e.
the result of TextFeatureToSample transformer.
:param text_set: the TextSet used to create this TFDataset
:param text: a tuple of two, the first element is the type of this input feature,
the second element is the shape of this element, i.e. (tf.float32, [10, 100, 4])).
text can also be nested structure of this tuple of two.
:param label: a tuple of two, the first element is the type of label, the second element
is the shape of this element, i.e. (tf.int32, [1])). label can also be nested structure of
this tuple of two.
:param batch_size: the batch size, used for training, should be a multiple of
total core num
:param batch_per_thread: the batch size for each thread, used for inference or evaluation
:param hard_code_batch_size: whether to hard code the batch_size into tensorflow graph,
if True, the static size of the first dimension of the resulting tensors is
batch_size/total_core_num (training) or batch_per_thread for inference; if False,
it is None.
:param validation_image_set: The TextSet used for validation during training
:param sequential_order: whether to iterate the elements in the Dataset
in sequential order when training.
:param shuffle: whether to shuffle the elements in each partition before each epoch
when training
:return: a TFDataset</p>
</dd></dl>

<dl class="staticmethod">
<dt id="zoo.pipeline.api.net.tf_dataset.TFDataset.from_tfrecord_file">
<em class="property">static </em><code class="descname">from_tfrecord_file</code><span class="sig-paren">(</span><em>sc</em>, <em>file_path</em>, <em>batch_size=-1</em>, <em>batch_per_thread=-1</em>, <em>hard_code_batch_size=False</em>, <em>validation_file_path=None</em>, <em>sequential_order=False</em>, <em>shuffle=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_dataset.html#TFDataset.from_tfrecord_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_dataset.TFDataset.from_tfrecord_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a TFDataset from tfrecord files.
:param sc: The SparkContext
:param file_path: comma seperated tfrecord file(s) path
structure of tensors. Follows the signature:
* Args:
* <cite>example</cite>: a string TensorFlow tensor representing a single record
* Returns:
a tuple or dictionary of output tensors and the output tensors must be
of numeric type
:param batch_size: the batch size, used for training, should be a multiple of
total core num
:param batch_per_thread: the batch size for each thread, used for inference or evaluation
:param hard_code_batch_size: whether to hard code the batch_size into tensorflow graph,
if True, the static size of the first dimension of the resulting tensors is
batch_size/total_core_num (training) or batch_per_thread for inference; if False,
it is None.
:param validation_file_path: The tfrecord files used for validation
:param sequential_order: whether to iterate the elements in the Dataset
in sequential order when training.
:param shuffle: whether to shuffle the elements in each partition before each epoch
when training
:return: a TFDataset</p>
</dd></dl>

<dl class="method">
<dt id="zoo.pipeline.api.net.tf_dataset.TFDataset.get_evaluation_data">
<code class="descname">get_evaluation_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_dataset.html#TFDataset.get_evaluation_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_dataset.TFDataset.get_evaluation_data" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an object that can be used for TFNet.evaluate,</td>
</tr>
</tbody>
</table>
<p>e.g. an RDD of Sample or a ImageSet</p>
</dd></dl>

<dl class="method">
<dt id="zoo.pipeline.api.net.tf_dataset.TFDataset.get_num_partitions">
<code class="descname">get_num_partitions</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_dataset.html#TFDataset.get_num_partitions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_dataset.TFDataset.get_num_partitions" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the num of partitions of the underlying RDD</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zoo.pipeline.api.net.tf_dataset.TFDataset.get_prediction_data">
<code class="descname">get_prediction_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_dataset.html#TFDataset.get_prediction_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_dataset.TFDataset.get_prediction_data" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an object that can be used for TFNet.predict</td>
</tr>
</tbody>
</table>
<p>e.g. an RDD of Sample or a ImageSet</p>
</dd></dl>

<dl class="method">
<dt id="zoo.pipeline.api.net.tf_dataset.TFDataset.get_training_data">
<code class="descname">get_training_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_dataset.html#TFDataset.get_training_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_dataset.TFDataset.get_training_data" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an object that can be used to create a BigDL optimizer,</td>
</tr>
</tbody>
</table>
<p>e.g. an RDD of Sample or a DataSet</p>
</dd></dl>

<dl class="method">
<dt id="zoo.pipeline.api.net.tf_dataset.TFDataset.get_validation_data">
<code class="descname">get_validation_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_dataset.html#TFDataset.get_validation_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_dataset.TFDataset.get_validation_data" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an object that can be used to set validation in a BigDL optimizer,</td>
</tr>
</tbody>
</table>
<p>e.g. an RDD of Sample or a DataSet</p>
</dd></dl>

<dl class="attribute">
<dt id="zoo.pipeline.api.net.tf_dataset.TFDataset.label_tensors">
<code class="descname">label_tensors</code><a class="headerlink" href="#zoo.pipeline.api.net.tf_dataset.TFDataset.label_tensors" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zoo.pipeline.api.net.tf_dataset.TFDataset.map">
<code class="descname">map</code><span class="sig-paren">(</span><em>map_fn</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_dataset.html#TFDataset.map"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_dataset.TFDataset.map" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zoo.pipeline.api.net.tf_dataset.TFDataset.tensors">
<code class="descname">tensors</code><a class="headerlink" href="#zoo.pipeline.api.net.tf_dataset.TFDataset.tensors" title="Permalink to this definition">¶</a></dt>
<dd><p>a nested structure of TensorFlow tensor object in TensorFlow graph.
The elements of this dataset will be fed into these tensors on each iteration.
:return: the nested structure of TensorFlow tensor object</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="zoo.pipeline.api.net.tf_dataset.TFFeatureDataset">
<em class="property">class </em><code class="descclassname">zoo.pipeline.api.net.tf_dataset.</code><code class="descname">TFFeatureDataset</code><span class="sig-paren">(</span><em>dataset</em>, <em>tensor_structure</em>, <em>batch_size</em>, <em>batch_per_thread</em>, <em>hard_code_batch_size=False</em>, <em>validation_dataset=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_dataset.html#TFFeatureDataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_dataset.TFFeatureDataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#zoo.pipeline.api.net.tf_dataset.TFDataset" title="zoo.pipeline.api.net.tf_dataset.TFDataset"><code class="xref py py-class docutils literal notranslate"><span class="pre">zoo.pipeline.api.net.tf_dataset.TFDataset</span></code></a></p>
<dl class="method">
<dt id="zoo.pipeline.api.net.tf_dataset.TFFeatureDataset.get_evaluation_data">
<code class="descname">get_evaluation_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_dataset.html#TFFeatureDataset.get_evaluation_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_dataset.TFFeatureDataset.get_evaluation_data" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an object that can be used for TFNet.evaluate,</td>
</tr>
</tbody>
</table>
<p>e.g. an RDD of Sample or a ImageSet</p>
</dd></dl>

<dl class="method">
<dt id="zoo.pipeline.api.net.tf_dataset.TFFeatureDataset.get_num_partitions">
<code class="descname">get_num_partitions</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_dataset.html#TFFeatureDataset.get_num_partitions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_dataset.TFFeatureDataset.get_num_partitions" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the num of partitions of the underlying RDD</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zoo.pipeline.api.net.tf_dataset.TFFeatureDataset.get_prediction_data">
<code class="descname">get_prediction_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_dataset.html#TFFeatureDataset.get_prediction_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_dataset.TFFeatureDataset.get_prediction_data" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an object that can be used for TFNet.predict</td>
</tr>
</tbody>
</table>
<p>e.g. an RDD of Sample or a ImageSet</p>
</dd></dl>

<dl class="method">
<dt id="zoo.pipeline.api.net.tf_dataset.TFFeatureDataset.get_training_data">
<code class="descname">get_training_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_dataset.html#TFFeatureDataset.get_training_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_dataset.TFFeatureDataset.get_training_data" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an object that can be used to create a BigDL optimizer,</td>
</tr>
</tbody>
</table>
<p>e.g. an RDD of Sample or a DataSet</p>
</dd></dl>

<dl class="method">
<dt id="zoo.pipeline.api.net.tf_dataset.TFFeatureDataset.get_validation_data">
<code class="descname">get_validation_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_dataset.html#TFFeatureDataset.get_validation_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_dataset.TFFeatureDataset.get_validation_data" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an object that can be used to set validation in a BigDL optimizer,</td>
</tr>
</tbody>
</table>
<p>e.g. an RDD of Sample or a DataSet</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="zoo.pipeline.api.net.tf_dataset.TFImageDataset">
<em class="property">class </em><code class="descclassname">zoo.pipeline.api.net.tf_dataset.</code><code class="descname">TFImageDataset</code><span class="sig-paren">(</span><em>image_set</em>, <em>tensor_structure</em>, <em>batch_size</em>, <em>batch_per_thread</em>, <em>hard_code_batch_size=False</em>, <em>validation_image_set=None</em>, <em>sequential_order=False</em>, <em>shuffle=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_dataset.html#TFImageDataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_dataset.TFImageDataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#zoo.pipeline.api.net.tf_dataset.TFDataset" title="zoo.pipeline.api.net.tf_dataset.TFDataset"><code class="xref py py-class docutils literal notranslate"><span class="pre">zoo.pipeline.api.net.tf_dataset.TFDataset</span></code></a></p>
<dl class="method">
<dt id="zoo.pipeline.api.net.tf_dataset.TFImageDataset.get_evaluation_data">
<code class="descname">get_evaluation_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_dataset.html#TFImageDataset.get_evaluation_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_dataset.TFImageDataset.get_evaluation_data" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an object that can be used for TFNet.evaluate,</td>
</tr>
</tbody>
</table>
<p>e.g. an RDD of Sample or a ImageSet</p>
</dd></dl>

<dl class="method">
<dt id="zoo.pipeline.api.net.tf_dataset.TFImageDataset.get_num_partitions">
<code class="descname">get_num_partitions</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_dataset.html#TFImageDataset.get_num_partitions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_dataset.TFImageDataset.get_num_partitions" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the num of partitions of the underlying RDD</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zoo.pipeline.api.net.tf_dataset.TFImageDataset.get_prediction_data">
<code class="descname">get_prediction_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_dataset.html#TFImageDataset.get_prediction_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_dataset.TFImageDataset.get_prediction_data" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an object that can be used for TFNet.predict</td>
</tr>
</tbody>
</table>
<p>e.g. an RDD of Sample or a ImageSet</p>
</dd></dl>

<dl class="method">
<dt id="zoo.pipeline.api.net.tf_dataset.TFImageDataset.get_training_data">
<code class="descname">get_training_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_dataset.html#TFImageDataset.get_training_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_dataset.TFImageDataset.get_training_data" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an object that can be used to create a BigDL optimizer,</td>
</tr>
</tbody>
</table>
<p>e.g. an RDD of Sample or a DataSet</p>
</dd></dl>

<dl class="method">
<dt id="zoo.pipeline.api.net.tf_dataset.TFImageDataset.get_validation_data">
<code class="descname">get_validation_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_dataset.html#TFImageDataset.get_validation_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_dataset.TFImageDataset.get_validation_data" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an object that can be used to set validation in a BigDL optimizer,</td>
</tr>
</tbody>
</table>
<p>e.g. an RDD of Sample or a DataSet</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="zoo.pipeline.api.net.tf_dataset.TFNdarrayDataset">
<em class="property">class </em><code class="descclassname">zoo.pipeline.api.net.tf_dataset.</code><code class="descname">TFNdarrayDataset</code><span class="sig-paren">(</span><em>rdd</em>, <em>tensor_structure</em>, <em>batch_size</em>, <em>batch_per_thread</em>, <em>hard_code_batch_size=False</em>, <em>val_rdd=None</em>, <em>sequential_order=True</em>, <em>shuffle=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_dataset.html#TFNdarrayDataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_dataset.TFNdarrayDataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#zoo.pipeline.api.net.tf_dataset.TFDataset" title="zoo.pipeline.api.net.tf_dataset.TFDataset"><code class="xref py py-class docutils literal notranslate"><span class="pre">zoo.pipeline.api.net.tf_dataset.TFDataset</span></code></a></p>
<dl class="staticmethod">
<dt id="zoo.pipeline.api.net.tf_dataset.TFNdarrayDataset.from_ndarrays">
<em class="property">static </em><code class="descname">from_ndarrays</code><span class="sig-paren">(</span><em>tensors</em>, <em>batch_size=-1</em>, <em>batch_per_thread=-1</em>, <em>hard_code_batch_size=False</em>, <em>val_tensors=None</em>, <em>sequential_order=False</em>, <em>shuffle=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_dataset.html#TFNdarrayDataset.from_ndarrays"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_dataset.TFNdarrayDataset.from_ndarrays" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a TFDataset from a nested structure of numpy ndarrays. Each element
in the resulting TFDataset has the same structure of the argument tensors and
is created by indexing on the first dimension of each ndarray in the tensors
argument.</p>
<p>This method is equivalent to sc.parallize the tensors and call TFDataset.from_rdd</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>tensors</strong> – the numpy ndarrays</li>
<li><strong>batch_size</strong> – the batch size, used for training, should be a multiple of</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>total core num
:param batch_per_thread: the batch size for each thread, used for inference or evaluation
:param hard_code_batch_size: whether to hard code the batch_size into tensorflow graph,
if True, the static size of the first dimension of the resulting tensors is
batch_size/total_core_num (training) or batch_per_thread for inference; if False,
it is None.
:param val_tensors: the numpy ndarrays used for validation during training
:param sequential_order: whether to iterate the elements in the Dataset
in sequential order when training.
:param shuffle: whether to shuffle the elements in each partition before each epoch
when training
:return: a TFDataset</p>
</dd></dl>

<dl class="staticmethod">
<dt id="zoo.pipeline.api.net.tf_dataset.TFNdarrayDataset.from_rdd">
<em class="property">static </em><code class="descname">from_rdd</code><span class="sig-paren">(</span><em>rdd</em>, <em>names=None</em>, <em>shapes=None</em>, <em>types=None</em>, <em>batch_size=-1</em>, <em>batch_per_thread=-1</em>, <em>hard_code_batch_size=False</em>, <em>val_rdd=None</em>, <em>features=None</em>, <em>labels=None</em>, <em>sequential_order=False</em>, <em>shuffle=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_dataset.html#TFNdarrayDataset.from_rdd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_dataset.TFNdarrayDataset.from_rdd" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a TFDataset from a rdd.</p>
<p>For training and evaluation, both <cite>features</cite> and <cite>labels</cite> arguments should be specified.
The element of the rdd should be a tuple of two, (features, labels), each has the
same structure of numpy.ndarrays of the argument <cite>features</cite>, <cite>labels</cite>.</p>
<p>E.g. if <cite>features</cite> is [(tf.float32, [10]), (tf.float32, [20])],
and <cite>labels</cite> is {“label1”:(tf.float32, [10]), “label2”: (tf.float32, [20])}
then a valid element of the rdd could be</p>
<p>(
[np.zeros(dtype=float, shape=(10,), np.zeros(dtype=float, shape=(10,)))],
{“label1”: np.zeros(dtype=float, shape=(10,)),
“label2”:np.zeros(dtype=float, shape=(10,))))}
)</p>
<p>If <cite>labels</cite> is not specified,
then the above element should be changed to
[np.zeros(dtype=float, shape=(10,), np.zeros(dtype=float, shape=(10,)))]</p>
<p>For inference, <cite>labels</cite> can be not specified.
The element of the rdd should be some ndarrays of the same structure of the <cite>features</cite>
argument.</p>
<p>A note on the legacy api: if you are using <cite>names</cite>, <cite>shapes</cite>, <cite>types</cite> arguments,
each element of the rdd should be a list of numpy.ndarray.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>rdd</strong> – a rdd containing the numpy.ndarrays to be used</td>
</tr>
</tbody>
</table>
<p>for training/evaluation/inference
:param features: the structure of input features, should one the following:
- a tuple (dtype, shape), e.g. (tf.float32, [28, 28, 1])
- a list of such tuple [(dtype1, shape1), (dtype2, shape2)],
e.g. [(tf.float32, [10]), (tf.float32, [20])],
- a dict of such tuple, mapping string names to tuple {“name”: (dtype, shape},
e.g. {“input1”:(tf.float32, [10]), “input2”: (tf.float32, [20])}</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>labels</strong> – the structure of input labels, format is the same as features</li>
<li><strong>batch_size</strong> – the batch size, used for training, should be a multiple of</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>total core num
:param batch_per_thread: the batch size for each thread, used for inference or evaluation
:param hard_code_batch_size: whether to hard code the batch_size into tensorflow graph,
if True, the static size of the first dimension of the resulting tensors is
batch_size/total_core_num (training) or batch_per_thread for inference; if False,
it is None.
:param val_rdd: validation data with the same structure of rdd
:param sequential_order: whether to iterate the elements in the Dataset
in sequential order when training.
:param shuffle: whether to shuffle the elements in each partition before each epoch
when training
:return: a TFDataset</p>
</dd></dl>

<dl class="method">
<dt id="zoo.pipeline.api.net.tf_dataset.TFNdarrayDataset.get_evaluation_data">
<code class="descname">get_evaluation_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_dataset.html#TFNdarrayDataset.get_evaluation_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_dataset.TFNdarrayDataset.get_evaluation_data" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an object that can be used for TFNet.evaluate,</td>
</tr>
</tbody>
</table>
<p>e.g. an RDD of Sample or a ImageSet</p>
</dd></dl>

<dl class="method">
<dt id="zoo.pipeline.api.net.tf_dataset.TFNdarrayDataset.get_num_partitions">
<code class="descname">get_num_partitions</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_dataset.html#TFNdarrayDataset.get_num_partitions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_dataset.TFNdarrayDataset.get_num_partitions" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the num of partitions of the underlying RDD</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zoo.pipeline.api.net.tf_dataset.TFNdarrayDataset.get_prediction_data">
<code class="descname">get_prediction_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_dataset.html#TFNdarrayDataset.get_prediction_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_dataset.TFNdarrayDataset.get_prediction_data" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an object that can be used for TFNet.predict</td>
</tr>
</tbody>
</table>
<p>e.g. an RDD of Sample or a ImageSet</p>
</dd></dl>

<dl class="method">
<dt id="zoo.pipeline.api.net.tf_dataset.TFNdarrayDataset.get_training_data">
<code class="descname">get_training_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_dataset.html#TFNdarrayDataset.get_training_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_dataset.TFNdarrayDataset.get_training_data" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an object that can be used to create a BigDL optimizer,</td>
</tr>
</tbody>
</table>
<p>e.g. an RDD of Sample or a DataSet</p>
</dd></dl>

<dl class="method">
<dt id="zoo.pipeline.api.net.tf_dataset.TFNdarrayDataset.get_validation_data">
<code class="descname">get_validation_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_dataset.html#TFNdarrayDataset.get_validation_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_dataset.TFNdarrayDataset.get_validation_data" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an object that can be used to set validation in a BigDL optimizer,</td>
</tr>
</tbody>
</table>
<p>e.g. an RDD of Sample or a DataSet</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="zoo.pipeline.api.net.tf_dataset.TFTextDataset">
<em class="property">class </em><code class="descclassname">zoo.pipeline.api.net.tf_dataset.</code><code class="descname">TFTextDataset</code><span class="sig-paren">(</span><em>text_set</em>, <em>tensor_structure</em>, <em>batch_size</em>, <em>batch_per_thread</em>, <em>hard_code_batch_size=False</em>, <em>validation_text_set=None</em>, <em>sequential_order=False</em>, <em>shuffle=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_dataset.html#TFTextDataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_dataset.TFTextDataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#zoo.pipeline.api.net.tf_dataset.TFDataset" title="zoo.pipeline.api.net.tf_dataset.TFDataset"><code class="xref py py-class docutils literal notranslate"><span class="pre">zoo.pipeline.api.net.tf_dataset.TFDataset</span></code></a></p>
<dl class="method">
<dt id="zoo.pipeline.api.net.tf_dataset.TFTextDataset.get_evaluation_data">
<code class="descname">get_evaluation_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_dataset.html#TFTextDataset.get_evaluation_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_dataset.TFTextDataset.get_evaluation_data" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an object that can be used for TFNet.evaluate,</td>
</tr>
</tbody>
</table>
<p>e.g. an RDD of Sample or a ImageSet</p>
</dd></dl>

<dl class="method">
<dt id="zoo.pipeline.api.net.tf_dataset.TFTextDataset.get_num_partitions">
<code class="descname">get_num_partitions</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_dataset.html#TFTextDataset.get_num_partitions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_dataset.TFTextDataset.get_num_partitions" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the num of partitions of the underlying RDD</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zoo.pipeline.api.net.tf_dataset.TFTextDataset.get_prediction_data">
<code class="descname">get_prediction_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_dataset.html#TFTextDataset.get_prediction_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_dataset.TFTextDataset.get_prediction_data" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an object that can be used for TFNet.predict</td>
</tr>
</tbody>
</table>
<p>e.g. an RDD of Sample or a ImageSet</p>
</dd></dl>

<dl class="method">
<dt id="zoo.pipeline.api.net.tf_dataset.TFTextDataset.get_training_data">
<code class="descname">get_training_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_dataset.html#TFTextDataset.get_training_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_dataset.TFTextDataset.get_training_data" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an object that can be used to create a BigDL optimizer,</td>
</tr>
</tbody>
</table>
<p>e.g. an RDD of Sample or a DataSet</p>
</dd></dl>

<dl class="method">
<dt id="zoo.pipeline.api.net.tf_dataset.TFTextDataset.get_validation_data">
<code class="descname">get_validation_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_dataset.html#TFTextDataset.get_validation_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_dataset.TFTextDataset.get_validation_data" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an object that can be used to set validation in a BigDL optimizer,</td>
</tr>
</tbody>
</table>
<p>e.g. an RDD of Sample or a DataSet</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="zoo.pipeline.api.net.tf_dataset.TensorMeta">
<em class="property">class </em><code class="descclassname">zoo.pipeline.api.net.tf_dataset.</code><code class="descname">TensorMeta</code><span class="sig-paren">(</span><em>dtype</em>, <em>name=None</em>, <em>shape=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_dataset.html#TensorMeta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_dataset.TensorMeta" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>

</div>
<div class="section" id="module-zoo.pipeline.api.net.tf_optimizer">
<span id="zoo-pipeline-api-net-tf-optimizer-module"></span><h2>zoo.pipeline.api.net.tf_optimizer module<a class="headerlink" href="#module-zoo.pipeline.api.net.tf_optimizer" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="zoo.pipeline.api.net.tf_optimizer.BigDLMetric">
<em class="property">class </em><code class="descclassname">zoo.pipeline.api.net.tf_optimizer.</code><code class="descname">BigDLMetric</code><span class="sig-paren">(</span><em>val_method</em>, <em>outputs</em>, <em>labels</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_optimizer.html#BigDLMetric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_optimizer.BigDLMetric" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>

<dl class="class">
<dt id="zoo.pipeline.api.net.tf_optimizer.IdentityCriterion">
<em class="property">class </em><code class="descclassname">zoo.pipeline.api.net.tf_optimizer.</code><code class="descname">IdentityCriterion</code><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_optimizer.html#IdentityCriterion"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_optimizer.IdentityCriterion" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">bigdl.nn.criterion.Criterion</span></code></p>
</dd></dl>

<dl class="class">
<dt id="zoo.pipeline.api.net.tf_optimizer.StatelessMetric">
<em class="property">class </em><code class="descclassname">zoo.pipeline.api.net.tf_optimizer.</code><code class="descname">StatelessMetric</code><span class="sig-paren">(</span><em>metric_name</em>, <em>idx</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_optimizer.html#StatelessMetric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_optimizer.StatelessMetric" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">bigdl.util.common.JavaValue</span></code></p>
</dd></dl>

<dl class="class">
<dt id="zoo.pipeline.api.net.tf_optimizer.TFModel">
<em class="property">class </em><code class="descclassname">zoo.pipeline.api.net.tf_optimizer.</code><code class="descname">TFModel</code><span class="sig-paren">(</span><em>training_helper_layer</em>, <em>criterion</em>, <em>val_methods</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_optimizer.html#TFModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_optimizer.TFModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="staticmethod">
<dt id="zoo.pipeline.api.net.tf_optimizer.TFModel.create_for_unfreeze">
<em class="property">static </em><code class="descname">create_for_unfreeze</code><span class="sig-paren">(</span><em>loss_tensor</em>, <em>sess</em>, <em>inputs</em>, <em>grads</em>, <em>variables</em>, <em>graph</em>, <em>tensors_with_value</em>, <em>session_config</em>, <em>metrics</em>, <em>updates</em>, <em>model_dir</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_optimizer.html#TFModel.create_for_unfreeze"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_optimizer.TFModel.create_for_unfreeze" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="zoo.pipeline.api.net.tf_optimizer.TFModel.export_for_training">
<em class="property">static </em><code class="descname">export_for_training</code><span class="sig-paren">(</span><em>model_dir</em>, <em>loss_tensor</em>, <em>sess</em>, <em>inputs</em>, <em>grads</em>, <em>variables</em>, <em>graph</em>, <em>tensors_with_value</em>, <em>metrics</em>, <em>updates</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_optimizer.html#TFModel.export_for_training"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_optimizer.TFModel.export_for_training" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="zoo.pipeline.api.net.tf_optimizer.TFOptimizer">
<em class="property">class </em><code class="descclassname">zoo.pipeline.api.net.tf_optimizer.</code><code class="descname">TFOptimizer</code><span class="sig-paren">(</span><em>tf_model</em>, <em>optim_method</em>, <em>sess=None</em>, <em>dataset=None</em>, <em>val_split=0.0</em>, <em>clip_norm=None</em>, <em>clip_value=None</em>, <em>model_dir=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_optimizer.html#TFOptimizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_optimizer.TFOptimizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="staticmethod">
<dt id="zoo.pipeline.api.net.tf_optimizer.TFOptimizer.export_training_model">
<em class="property">static </em><code class="descname">export_training_model</code><span class="sig-paren">(</span><em>export_dir</em>, <em>loss</em>, <em>sess</em>, <em>inputs</em>, <em>metrics=None</em>, <em>tensor_with_value=None</em>, <em>updates=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_optimizer.html#TFOptimizer.export_training_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_optimizer.TFOptimizer.export_training_model" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="zoo.pipeline.api.net.tf_optimizer.TFOptimizer.from_keras">
<em class="property">classmethod </em><code class="descname">from_keras</code><span class="sig-paren">(</span><em>keras_model</em>, <em>dataset</em>, <em>optim_method=None</em>, <em>val_split=0.0</em>, <em>session_config=None</em>, <em>model_dir=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_optimizer.html#TFOptimizer.from_keras"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_optimizer.TFOptimizer.from_keras" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a TFOptimizer from a tensorflow.keras model. The model must be compiled.
:param keras_model: the tensorflow.keras model, which must be compiled.
:param dataset: a TFDataset
:param optim_method: the optimization method to be used, such as bigdl.optim.optimizer.Adam
:param val_split: Float between 0 and 1. Fraction of the training data to be used as
validation data.
:return:</p>
</dd></dl>

<dl class="classmethod">
<dt id="zoo.pipeline.api.net.tf_optimizer.TFOptimizer.from_loss">
<em class="property">classmethod </em><code class="descname">from_loss</code><span class="sig-paren">(</span><em>loss</em>, <em>optim_method</em>, <em>session=None</em>, <em>val_outputs=None</em>, <em>val_labels=None</em>, <em>val_method=None</em>, <em>val_split=0.0</em>, <em>clip_norm=None</em>, <em>clip_value=None</em>, <em>metrics=None</em>, <em>tensor_with_value=None</em>, <em>session_config=None</em>, <em>model_dir=None</em>, <em>updates=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_optimizer.html#TFOptimizer.from_loss"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_optimizer.TFOptimizer.from_loss" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a TFOptimizer from a TensorFlow loss tensor.
The loss tensor must come from a TensorFlow graph that only takes TFDataset.tensors and
the tensors in <cite>tensor_with_value</cite> as inputs.
:param loss: The loss tensor of the TensorFlow model, should be a scalar
:param optim_method: the optimization method to be used, such as bigdl.optim.optimizer.Adam
:param session: the current TensorFlow Session, if you want to used a pre-trained model,
you should use the Session to load the pre-trained variables and pass it to TFOptimizer.
:param val_outputs: the validation output TensorFlow tensor to be used by val_methods
:param val_labels: the validation label TensorFlow tensor to be used by val_methods
:param val_method: the BigDL val_method(s) to be used.
:param val_split: Float between 0 and 1. Fraction of the training data to be used as
validation data.
:param clip_norm: float &gt;= 0. Gradients will be clipped when their L2 norm exceeds
this value.
:param clip_value: float &gt;= 0. Gradients will be clipped when their absolute value
exceeds this value.
:param metrics: a dictionary. The key should be a string representing the metric’s name
and the value should be the corresponding TensorFlow tensor, which should be a scalar.
:param tensor_with_value: a dictionary. The key is TensorFlow tensor, usually a
placeholder, the value of the dictionary is a tuple of two elements. The first one of
the tuple is the value to feed to the tensor in training phase and the second one
is the value to feed to the tensor in validation phase.
:return: a TFOptimizer</p>
</dd></dl>

<dl class="method">
<dt id="zoo.pipeline.api.net.tf_optimizer.TFOptimizer.optimize">
<code class="descname">optimize</code><span class="sig-paren">(</span><em>end_trigger=None</em>, <em>checkpoint_trigger=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_optimizer.html#TFOptimizer.optimize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_optimizer.TFOptimizer.optimize" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the training loop of the this optimizer
:param end_trigger: BigDL’s Trigger to indicate when to stop the training.
:param checkpoint_trigger: When to save a checkpoint and evaluate model.</p>
</dd></dl>

<dl class="method">
<dt id="zoo.pipeline.api.net.tf_optimizer.TFOptimizer.set_constant_gradient_clipping">
<code class="descname">set_constant_gradient_clipping</code><span class="sig-paren">(</span><em>min_value</em>, <em>max_value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_optimizer.html#TFOptimizer.set_constant_gradient_clipping"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_optimizer.TFOptimizer.set_constant_gradient_clipping" title="Permalink to this definition">¶</a></dt>
<dd><p>Configure constant clipping settings.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>min_value</strong> – the minimum value to clip by</li>
<li><strong>max_value</strong> – the maxmimum value to clip by</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zoo.pipeline.api.net.tf_optimizer.TFOptimizer.set_gradient_clipping_by_l2_norm">
<code class="descname">set_gradient_clipping_by_l2_norm</code><span class="sig-paren">(</span><em>clip_norm</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_optimizer.html#TFOptimizer.set_gradient_clipping_by_l2_norm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_optimizer.TFOptimizer.set_gradient_clipping_by_l2_norm" title="Permalink to this definition">¶</a></dt>
<dd><p>Configure L2 norm clipping settings.
:param clip_norm: gradient L2-Norm threshold</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="zoo.pipeline.api.net.tf_optimizer.TFTrainingHelper">
<em class="property">class </em><code class="descclassname">zoo.pipeline.api.net.tf_optimizer.</code><code class="descname">TFTrainingHelper</code><span class="sig-paren">(</span><em>path</em>, <em>config_proto</em>, <em>saver</em>, <em>meta</em>, <em>sess</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_optimizer.html#TFTrainingHelper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_optimizer.TFTrainingHelper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">bigdl.nn.layer.Layer</span></code></p>
<dl class="method">
<dt id="zoo.pipeline.api.net.tf_optimizer.TFTrainingHelper.get_weights_to_python">
<code class="descname">get_weights_to_python</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_optimizer.html#TFTrainingHelper.get_weights_to_python"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_optimizer.TFTrainingHelper.get_weights_to_python" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zoo.pipeline.api.net.tf_optimizer.TFTrainingHelper.save_checkpoint">
<code class="descname">save_checkpoint</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_optimizer.html#TFTrainingHelper.save_checkpoint"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_optimizer.TFTrainingHelper.save_checkpoint" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="zoo.pipeline.api.net.tf_optimizer.TFValidationMethod">
<em class="property">class </em><code class="descclassname">zoo.pipeline.api.net.tf_optimizer.</code><code class="descname">TFValidationMethod</code><span class="sig-paren">(</span><em>val_method</em>, <em>name</em>, <em>output_indices</em>, <em>label_indices</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_optimizer.html#TFValidationMethod"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_optimizer.TFValidationMethod" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">bigdl.util.common.JavaValue</span></code></p>
</dd></dl>

</div>
<div class="section" id="module-zoo.pipeline.api.net.tf_predictor">
<span id="zoo-pipeline-api-net-tf-predictor-module"></span><h2>zoo.pipeline.api.net.tf_predictor module<a class="headerlink" href="#module-zoo.pipeline.api.net.tf_predictor" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="zoo.pipeline.api.net.tf_predictor.TFPredictor">
<em class="property">class </em><code class="descclassname">zoo.pipeline.api.net.tf_predictor.</code><code class="descname">TFPredictor</code><span class="sig-paren">(</span><em>sess</em>, <em>outputs</em>, <em>inputs=None</em>, <em>dataset=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_predictor.html#TFPredictor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_predictor.TFPredictor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="classmethod">
<dt id="zoo.pipeline.api.net.tf_predictor.TFPredictor.from_keras">
<em class="property">classmethod </em><code class="descname">from_keras</code><span class="sig-paren">(</span><em>keras_model</em>, <em>dataset</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_predictor.html#TFPredictor.from_keras"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_predictor.TFPredictor.from_keras" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="zoo.pipeline.api.net.tf_predictor.TFPredictor.from_outputs">
<em class="property">classmethod </em><code class="descname">from_outputs</code><span class="sig-paren">(</span><em>sess</em>, <em>outputs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_predictor.html#TFPredictor.from_outputs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_predictor.TFPredictor.from_outputs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zoo.pipeline.api.net.tf_predictor.TFPredictor.predict">
<code class="descname">predict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tf_predictor.html#TFPredictor.predict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tf_predictor.TFPredictor.predict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-zoo.pipeline.api.net.tfnet">
<span id="zoo-pipeline-api-net-tfnet-module"></span><h2>zoo.pipeline.api.net.tfnet module<a class="headerlink" href="#module-zoo.pipeline.api.net.tfnet" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="zoo.pipeline.api.net.tfnet.TFNet">
<em class="property">class </em><code class="descclassname">zoo.pipeline.api.net.tfnet.</code><code class="descname">TFNet</code><span class="sig-paren">(</span><em>path</em>, <em>input_names=None</em>, <em>output_names=None</em>, <em>tf_session_config=None</em>, <em>jvalue=None</em>, <em>bigdl_type='float'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tfnet.html#TFNet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tfnet.TFNet" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">bigdl.nn.layer.Layer</span></code></p>
<dl class="staticmethod">
<dt id="zoo.pipeline.api.net.tfnet.TFNet.check_input">
<em class="property">static </em><code class="descname">check_input</code><span class="sig-paren">(</span><em>input</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tfnet.html#TFNet.check_input"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tfnet.TFNet.check_input" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>input</strong> – ndarray or list of ndarray or JTensor or list of JTensor.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">(list of JTensor, isTable)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="zoo.pipeline.api.net.tfnet.TFNet.from_export_folder">
<em class="property">static </em><code class="descname">from_export_folder</code><span class="sig-paren">(</span><em>folder</em>, <em>tf_session_config=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tfnet.html#TFNet.from_export_folder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tfnet.TFNet.from_export_folder" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a TFNet from an exported folder produced by <cite>export_tf</cite>
:param folder: the folder the TensorFlow model exported to
:param tf_session_config: an optional tf.ConfigProto object to
set the session config in java side.
This config does not necessarily be the same with your current session.
E.g. sess_config = tf.ConfigProto(inter_op_parallelism_threads=1,
intra_op_parallelism_threads=1)
net = TFNet.from_session(sess, inputs, outputs, sess_config)
:return: a TFNet</p>
</dd></dl>

<dl class="staticmethod">
<dt id="zoo.pipeline.api.net.tfnet.TFNet.from_saved_model">
<em class="property">static </em><code class="descname">from_saved_model</code><span class="sig-paren">(</span><em>model_path</em>, <em>tag=None</em>, <em>signature=None</em>, <em>inputs=None</em>, <em>outputs=None</em>, <em>tf_session_config=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tfnet.html#TFNet.from_saved_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tfnet.TFNet.from_saved_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a TFNet from an TensorFlow saved model
:param model_path: the path to the SavedModel path
:param tag: the tag to load in the saved model, default to “serve”
:param signature: The signature of the SignatureDef that defines inputs
and outputs of the graph. TFNet assumes inputs is sorted
by their corresponding key in SignatureDef.
:param inputs: a list input tensor names of this model, you may want to use TensorFlow’s
command line tool to inspect the saved model to find the input tensor
names e.g. <cite>saved_model_cli show –dir {saved_model_path} –all</cite>
:param outputs: a list output tensor names of this model, you may want to use TensorFlow’s
command line tool to inspect the saved model to find the output tensor
names e.g. <cite>saved_model_cli show –dir {saved_model_path} –all</cite>
:param tf_session_config: an optional tf.ConfigProto object to
set the session config in java side.
This config does not necessarily be the same with your current session.
E.g. sess_config = tf.ConfigProto(inter_op_parallelism_threads=1,
intra_op_parallelism_threads=1)
net = TFNet.from_session(sess, inputs, outputs, sess_config)
:return: a TFNet</p>
</dd></dl>

<dl class="staticmethod">
<dt id="zoo.pipeline.api.net.tfnet.TFNet.from_session">
<em class="property">static </em><code class="descname">from_session</code><span class="sig-paren">(</span><em>sess</em>, <em>inputs</em>, <em>outputs</em>, <em>generate_backward=False</em>, <em>allow_non_differentiable_input=True</em>, <em>tf_session_config=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tfnet.html#TFNet.from_session"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tfnet.TFNet.from_session" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a TFNet from an a session and the inputs and outpus endpoints
of the TensorFlow graph.
:param sess: the TensorFlow session contain all the variables
:param inputs: a list of TensorFlow Tensor represents the input endpoints
of the TensorFlow graph
:param outputs: a list of TensorFlow Tensor represents the output endpoints
of the TensorFlow graph
:param generate_backward: whether to generated a the backward graph, set true
if you want to train this TFNet
:param allow_non_differentiable_input: if set to yes, when input are not differentiable,
the gradient will be set to zero. if set to false, an error will be thrown.
:param tf_session_config: an optional tf.ConfigProto object to
set the session config in java side.
This config does not necessarily be the same with your current session.
E.g. sess_config = tf.ConfigProto(inter_op_parallelism_threads=1,
intra_op_parallelism_threads=1)
net = TFNet.from_session(sess, inputs, outputs, sess_config)
:return a TFNet</p>
</dd></dl>

<dl class="method">
<dt id="zoo.pipeline.api.net.tfnet.TFNet.predict">
<code class="descname">predict</code><span class="sig-paren">(</span><em>x</em>, <em>batch_per_thread=1</em>, <em>distributed=True</em>, <em>mini_batch=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tfnet.html#TFNet.predict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tfnet.TFNet.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Use a model to do prediction.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="zoo.pipeline.api.net.tfnet.to_sample_rdd">
<code class="descclassname">zoo.pipeline.api.net.tfnet.</code><code class="descname">to_sample_rdd</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>sc</em>, <em>num_slices=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/tfnet.html#to_sample_rdd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.tfnet.to_sample_rdd" title="Permalink to this definition">¶</a></dt>
<dd><p>Conver x and y into RDD[Sample]
:param sc: SparkContext
:param x: ndarray and the first dimension should be batch
:param y: ndarray and the first dimension should be batch
:param numSlices:
:return:</p>
</dd></dl>

</div>
<div class="section" id="module-zoo.pipeline.api.net.torch_criterion">
<span id="zoo-pipeline-api-net-torch-criterion-module"></span><h2>zoo.pipeline.api.net.torch_criterion module<a class="headerlink" href="#module-zoo.pipeline.api.net.torch_criterion" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="zoo.pipeline.api.net.torch_criterion.LossWrapperModule">
<em class="property">class </em><code class="descclassname">zoo.pipeline.api.net.torch_criterion.</code><code class="descname">LossWrapperModule</code><span class="sig-paren">(</span><em>lossFunc</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/torch_criterion.html#LossWrapperModule"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.torch_criterion.LossWrapperModule" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">torch.nn.modules.module.Module</span></code></p>
<dl class="method">
<dt id="zoo.pipeline.api.net.torch_criterion.LossWrapperModule.forward">
<code class="descname">forward</code><span class="sig-paren">(</span><em>x</em>, <em>y</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/torch_criterion.html#LossWrapperModule.forward"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.torch_criterion.LossWrapperModule.forward" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines the computation performed at every call.</p>
<p>Should be overridden by all subclasses.</p>
<p>Although the recipe for forward pass needs to be defined within
this function, one should call the <code class="xref py py-class docutils literal notranslate"><span class="pre">Module</span></code> instance afterwards
instead of this since the former takes care of running the
registered hooks while the latter silently ignores them.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="zoo.pipeline.api.net.torch_criterion.TorchCriterion">
<em class="property">class </em><code class="descclassname">zoo.pipeline.api.net.torch_criterion.</code><code class="descname">TorchCriterion</code><span class="sig-paren">(</span><em>path</em>, <em>bigdl_type='float'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/torch_criterion.html#TorchCriterion"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.torch_criterion.TorchCriterion" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">bigdl.nn.criterion.Criterion</span></code></p>
<p>TorchCriterion wraps a loss function for distributed inference or training.
Use TorchCriterion.from_pytorch to initialize.</p>
<dl class="staticmethod">
<dt id="zoo.pipeline.api.net.torch_criterion.TorchCriterion.from_pytorch">
<em class="property">static </em><code class="descname">from_pytorch</code><span class="sig-paren">(</span><em>loss</em>, <em>input</em>, <em>label=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/torch_criterion.html#TorchCriterion.from_pytorch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.torch_criterion.TorchCriterion.from_pytorch" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a TorchCriterion directly from PyTorch function. We need users to provide example
input and label (or just their sizes) to trace the loss function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>loss</strong> – this can be a torch loss (e.g. nn.MSELoss()) or</td>
</tr>
</tbody>
</table>
<p>a function that takes two Tensor parameters: input and label. E.g.
def lossFunc(input, target):
return nn.CrossEntropyLoss().forward(input, target.flatten().long())
:param input: example input. It can be:
1. a torch tensor, or tuple of torch tensors for multi-input models
2. list of integers, or tuple of int list for multi-input models. E.g. For
ResNet, this can be [1, 3, 224, 224]. A random tensor with the
specified size will be used as the example input.
:param label: example label. It can be:
1. a torch tensor, or tuple of torch tensors for multi-input models
2. list of integers, or tuple of int list for multi-input models. E.g. For
ResNet, this can be [1, 3, 224, 224]. A random tensor with the
specified size will be used as the example input.
When label is None, input will also be used as label.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-zoo.pipeline.api.net.torch_net">
<span id="zoo-pipeline-api-net-torch-net-module"></span><h2>zoo.pipeline.api.net.torch_net module<a class="headerlink" href="#module-zoo.pipeline.api.net.torch_net" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="zoo.pipeline.api.net.torch_net.TorchNet">
<em class="property">class </em><code class="descclassname">zoo.pipeline.api.net.torch_net.</code><code class="descname">TorchNet</code><span class="sig-paren">(</span><em>path</em>, <em>bigdl_type='float'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/torch_net.html#TorchNet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.torch_net.TorchNet" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">bigdl.nn.layer.Layer</span></code></p>
<p>TorchNet wraps a TorchScript model as a single layer, thus the Pytorch model can be used for
distributed inference or training.
:param path: path to the TorchScript model.</p>
<dl class="staticmethod">
<dt id="zoo.pipeline.api.net.torch_net.TorchNet.from_pytorch">
<em class="property">static </em><code class="descname">from_pytorch</code><span class="sig-paren">(</span><em>module</em>, <em>input</em>, <em>check_trace=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/torch_net.html#TorchNet.from_pytorch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.torch_net.TorchNet.from_pytorch" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a TorchNet directly from PyTorch model, e.g. model in torchvision.models.
Users need to provide an example input or the input tensor shape.
:param module: a PyTorch model
:param input: To trace the tensor operations, torch jit trace requires users to
provide an example input. Here the input parameter can be:
1. a torch tensor, or tuple of torch tensors for multi-input models
2. list of integers, or tuple of int list for multi-input models. E.g. For
ResNet, this can be [1, 3, 224, 224]. A random tensor with the
specified size will be used as the example input.
:param check_trace: boolean value, optional. check if the same inputs run through
traced module produce the same outputs. Default: <code class="docutils literal notranslate"><span class="pre">True</span></code>. You
might want to disable this if, for example, your network contains
non-deterministic ops or if you are sure that the network is
correct despite a checker failure.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="zoo.pipeline.api.net.torch_net.TorchNet.get_sample_input">
<em class="property">static </em><code class="descname">get_sample_input</code><span class="sig-paren">(</span><em>input</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/torch_net.html#TorchNet.get_sample_input"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.torch_net.TorchNet.get_sample_input" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zoo.pipeline.api.net.torch_net.TorchNet.predict">
<code class="descname">predict</code><span class="sig-paren">(</span><em>x</em>, <em>batch_per_thread=1</em>, <em>distributed=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/torch_net.html#TorchNet.predict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.torch_net.TorchNet.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Use a model to do prediction.</p>
</dd></dl>

<dl class="method">
<dt id="zoo.pipeline.api.net.torch_net.TorchNet.savePytorch">
<code class="descname">savePytorch</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/torch_net.html#TorchNet.savePytorch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.torch_net.TorchNet.savePytorch" title="Permalink to this definition">¶</a></dt>
<dd><p>save the model as a torch script module</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-zoo.pipeline.api.net.utils">
<span id="zoo-pipeline-api-net-utils-module"></span><h2>zoo.pipeline.api.net.utils module<a class="headerlink" href="#module-zoo.pipeline.api.net.utils" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="zoo.pipeline.api.net.utils.to_bigdl_optim_method">
<code class="descclassname">zoo.pipeline.api.net.utils.</code><code class="descname">to_bigdl_optim_method</code><span class="sig-paren">(</span><em>koptim_method</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zoo/pipeline/api/net/utils.html#to_bigdl_optim_method"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zoo.pipeline.api.net.utils.to_bigdl_optim_method" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-zoo.pipeline.api.net">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-zoo.pipeline.api.net" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="zoo.pipeline.api.onnx.html" title="zoo.pipeline.api.onnx package"
             >next</a> |</li>
        <li class="right" >
          <a href="zoo.pipeline.api.keras2.layers.html" title="zoo.pipeline.api.keras2.layers package"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">analytics-zoo  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="zoo.html" >zoo package</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="zoo.pipeline.html" >zoo.pipeline package</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="zoo.pipeline.api.html" >zoo.pipeline.api package</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, Intel.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.4.
    </div>
  </body>
</html>